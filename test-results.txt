
> enhanced-logging-platform@2.2.0 test
> cross-env AUTH_PASSWORD=testAdmin123! NODE_ENV=test jest --runInBand --detectOpenHandles

  console.log
    â‰¡Æ’Ã¶Âº Jest Setup Complete

      at Object.log (tests/jest.setup.js:46:9)

  console.log
    Î“Ã…â–’âˆ©â••Ã… Test Timeout: 30 seconds

      at Object.log (tests/jest.setup.js:47:9)

  console.log
    â‰¡Æ’Â¢Ã­âˆ©â••Ã… Safety Timeout: 25 seconds

      at Object.log (tests/jest.setup.js:48:9)

  console.log
    â‰¡Æ’ÃœÃ‡ Ready to test!

      at Object.log (tests/jest.setup.js:49:9)

  console.warn
    Î“ÃœÃ¡âˆ©â••Ã… Using ephemeral development JWT secret (DO NOT use in production). Set JWT_SECRET to override.

    [0m [90m 201 |[39m             [36mif[39m (allowFallback) {
     [90m 202 |[39m                 [36mconst[39m fallback [33m=[39m crypto[33m.[39mrandomBytes([35m32[39m)[33m.[39mtoString([32m'hex'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 203 |[39m                 console[33m.[39mwarn([32m'Î“ÃœÃ¡âˆ©â••Ã… Using ephemeral development JWT secret (DO NOT use in production). Set JWT_SECRET to override.'[39m)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 204 |[39m                 [36mreturn[39m fallback[33m;[39m
     [90m 205 |[39m             }
     [90m 206 |[39m             console[33m.[39merror([32m'â‰¡Æ’ÃœÂ¿ SECURITY WARNING: JWT_SECRET environment variable not set and no fallback allowed (production mode).'[39m)[33m;[39m[0m

      at warn (server.js:203:25)
      at Object.<anonymous> (server.js:209:10)
      at Object.require (tests/comprehensive-static-runtime.test.js:21:27)

  console.log
    Î“Â£Ã  Comprehensive Static & Runtime Test Suite Loaded

      at Object.log (tests/comprehensive-static-runtime.test.js:798:9)

  console.log
    â‰¡Æ’Ã´Ã¨ Total Test Cases: 90+

      at Object.log (tests/comprehensive-static-runtime.test.js:799:9)

  console.log
    â‰¡Æ’Ã¶Â¼ Atomic Level Analysis Complete

      at Object.log (tests/comprehensive-static-runtime.test.js:800:9)

  console.log
    â‰¡Æ’ÃœÃ‡ Spaceship Launch Ready!

      at Object.log (tests/comprehensive-static-runtime.test.js:801:9)

2025-11-12 05:50:16 [[32minfo[39m] â‰¡Æ’Ã¶Âº Running database migration...
2025-11-12 05:50:16 [[32minfo[39m] Connected to database for migration
2025-11-12 05:50:16 [[32minfo[39m] â‰¡Æ’ÃœÃ‡ Starting database migration...
2025-11-12 05:50:16 [[32minfo[39m] Creating core system tables...
2025-11-12 05:50:16 [[32minfo[39m] Î“Â£Ã  Created logs table
2025-11-12 05:50:16 [[32minfo[39m] Î“Â£Ã  Created log_events table
2025-11-12 05:50:16 [[32minfo[39m] Î“Â£Ã  Created request_metrics table
2025-11-12 05:50:16 [[32minfo[39m] Î“Â£Ã  Created users table
2025-11-12 05:50:16 [[32minfo[39m] Î“Â£Ã  Created user_sessions table
2025-11-12 05:50:16 [[32minfo[39m] Î“Â£Ã  Created user_theme_preferences table
2025-11-12 05:50:16 [[32minfo[39m] Î“Â£Ã  Created system_settings table
2025-11-12 05:50:16 [[32minfo[39m] Î“Â£Ã  Created activity_log table
2025-11-12 05:50:16 [[32minfo[39m] Î“Â£Ã  Created system_metrics table
2025-11-12 05:50:16 [[32minfo[39m] Creating webhooks and integrations tables...
2025-11-12 05:50:16 [[32minfo[39m] Î“Â£Ã  Created webhooks table
2025-11-12 05:50:16 [[32minfo[39m] Î“Â£Ã  Created webhook_deliveries table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created integrations table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created integration_health table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created integration_metrics table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created custom_integrations table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created integration_configs table
2025-11-12 05:50:17 [[32minfo[39m] Creating search and alerting tables...
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created saved_searches table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created api_keys table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created alert_rules table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created alert_history table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created notification_channels table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created alert_escalations table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created system_alerts table
2025-11-12 05:50:17 [[32minfo[39m] Creating enterprise engine tables...
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created retention_policies table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created retention_history table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created archived_logs_metadata table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created dashboards table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created dashboard_widgets table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created widget_templates table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created streaming_sessions table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created streaming_filters table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created streaming_statistics table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created anomaly_detections table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created anomaly_rules table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created log_correlations table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created correlation_rules table
2025-11-12 05:50:17 [[32minfo[39m] â‰¡Æ’Ã¶Ã¤ Creating Log File Analyzer tables...
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created uploaded_files table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created file_analysis table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created log_sources table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created log_patterns table
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Created parsed_log_entries table
2025-11-12 05:50:17 [[32minfo[39m] Creating database indexes for performance...
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Database indexes created
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Database migration completed successfully!
2025-11-12 05:50:17 [[32minfo[39m] Database connection closed
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Database migration completed successfully
2025-11-12 05:50:17 [[32minfo[39m] Î“Ã…â”‚ Ensuring database is fully ready...
  console.log
    
    â‰¡Æ’Ã¶Ã¬ Universal SQLite Adapter - Environment Detection

      at new log (universal-sqlite-adapter.js:32:17)

  console.log
    Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼

      at new log (universal-sqlite-adapter.js:33:17)

  console.log
    â‰¡Æ’Ã»Ã‘âˆ©â••Ã…  Platform: win32

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:58:17)

  console.log
    â‰¡Æ’Ã‰â”‚ Docker Environment: false

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:59:17)

  console.log
    â‰¡Æ’Ã…Ã¡ Node.js Version: v25.0.0

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:60:17)

  console.log
    Î“Â£Ã  Using sql.js (WebAssembly Compatibility)

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:74:25)

  console.log
    Î“ÃœÃ¡âˆ©â••Ã…  sql.js requires async init, falling back to sqlite3

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:115:29)

  console.log
    â‰¡Æ’ÃœÃ‡ Database initialized with sqlite3

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:126:21)

  console.log
    Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:127:21)

2025-11-12 05:50:17 [[32minfo[39m] Database initialized with sqlite3 (Legacy (Slowest - Callback-based))
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  System settings loaded via DAL:
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Database Access Layer initialized successfully
2025-11-12 05:50:17 [[32minfo[39m] â‰¡Æ’Ã¶Âº Initializing system components...
2025-11-12 05:50:17 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Initializing Metrics Manager...
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Metrics Manager initialized
2025-11-12 05:50:17 [[32minfo[39m] â‰¡Æ’Ã¶Ã® Initializing integrations...
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  All integrations initialized
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  WebhookManager initialized
2025-11-12 05:50:17 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Database schema validated during migration - proceeding with engine initialization
2025-11-12 05:50:17 [[32minfo[39m] â‰¡Æ’ÃœÂ¿ Initializing Enhanced Real-time Alerting Engine...
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Admin user lookup successful
2025-11-12 05:50:17 [[32minfo[39m] No alert rules in database, creating default rules...
2025-11-12 05:50:17 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Loaded 4 default alert rules
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Default alert rules created in database
2025-11-12 05:50:17 [[32minfo[39m] No notification channels in database
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Enhanced Alerting Engine initialized successfully
2025-11-12 05:50:17 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Initializing Advanced Search Engine...
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Advanced Search Engine initialized successfully
2025-11-12 05:50:17 [[33mwarn[39m] Î“Ã…Â¡âˆ©â••Ã… Skipping Multi-Protocol Ingestion Engine initialization in test mode
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Retention schema created successfully
2025-11-12 05:50:17 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Loaded 0 retention policies
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Default retention policies created
2025-11-12 05:50:17 [[32minfo[39m] â‰¡Æ’Ã´Ã  Scheduled retention tasks
2025-11-12 05:50:17 [[32minfo[39m] Î“Â£Ã  Data Retention Engine initialized successfully
2025-11-12 05:50:17 [[33mwarn[39m] Î“Ã…Â¡âˆ©â••Ã… Skipping Real-time Streaming Engine initialization in test mode
2025-11-12 05:50:17 [[32minfo[39m] Loaded 0 anomaly detection rules
2025-11-12 05:50:17 [[32minfo[39m] Loaded 0 baseline patterns
2025-11-12 05:50:18 [[32minfo[39m] Loaded 5 anomaly detection rules
2025-11-12 05:50:18 [[32minfo[39m] Created default anomaly detection rules
2025-11-12 05:50:18 [[32minfo[39m] Scheduled anomaly detection tasks
2025-11-12 05:50:18 [[32minfo[39m] AI-Powered Anomaly Detection Engine initialized successfully
2025-11-12 05:50:18 [[32minfo[39m] â‰¡Æ’Ã¶Ã¹ Initializing Log Correlation Engine...
2025-11-12 05:50:18 [[32minfo[39m] Î“Â£Ã  Log Correlation Engine initialized successfully
2025-11-12 05:50:18 [[32minfo[39m] â‰¡Æ’ÃœÃ‡ Initializing Performance Optimization Engine...
2025-11-12 05:50:18 [[32minfo[39m] Î“Â£Ã  Performance Optimization Engine initialized successfully
2025-11-12 05:50:18 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Initializing Advanced Dashboard Builder...
2025-11-12 05:50:18 [[32minfo[39m] Î“Â£Ã  Dashboard database tables verified
2025-11-12 05:50:18 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Loaded 0 dashboard(s)
2025-11-12 05:50:18 [[32minfo[39m] â‰¡Æ’Ã„Â¢âˆ©â••Ã… Loaded 0 widget(s)
2025-11-12 05:50:18 [[32minfo[39m] Î“Â£Ã  Default admin user created
  console.log
    
    â‰¡Æ’Ã¶Ã‰ Default Admin Created:

      at UserManager.log [as initializeDefaultAdmin] (managers/UserManager.js:66:29)

  console.log
       Username: admin

      at UserManager.log [as initializeDefaultAdmin] (managers/UserManager.js:67:29)

  console.log
       Password: testAdmin123!

      at UserManager.log [as initializeDefaultAdmin] (managers/UserManager.js:68:29)

  console.log
       Please change this password after first login!

      at UserManager.log [as initializeDefaultAdmin] (managers/UserManager.js:69:29)

2025-11-12 05:50:18 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Initialized 4 default widget templates
2025-11-12 05:50:18 [[32minfo[39m] Î“Â£Ã  Advanced Dashboard Builder initialized
2025-11-12 05:50:18 [[32minfo[39m]    Î“Ã‡Ã³ Widget Types: 12 available
2025-11-12 05:50:18 [[32minfo[39m]    Î“Ã‡Ã³ Drag & Drop: Enabled
2025-11-12 05:50:18 [[32minfo[39m]    Î“Ã‡Ã³ Real-time Updates: Active
2025-11-12 05:50:18 [[32minfo[39m]    Î“Ã‡Ã³ Custom Layouts: Supported
2025-11-12 05:50:18 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Initializing Distributed Tracing Engine...
2025-11-12 05:50:18 [[32minfo[39m]    Î“Ã‡Ã³ OpenTelemetry SDK: Active
2025-11-12 05:50:18 [[32minfo[39m]    Î“Ã‡Ã³ Jaeger Exporter: Configured
2025-11-12 05:50:18 [[32minfo[39m]    Î“Ã‡Ã³ Service Name:
2025-11-12 05:50:18 [[32minfo[39m]    Î“Ã‡Ã³ Sampling Rate:
2025-11-12 05:50:18 [[32minfo[39m]    Î“Ã‡Ã³ Trace Collection: Enabled
2025-11-12 05:50:18 [[32minfo[39m]    Î“Ã‡Ã³ Span Analysis: Ready
2025-11-12 05:50:18 [[32minfo[39m] Î“Â£Ã  Distributed Tracing Engine initialized successfully
2025-11-12 05:50:18 [[32minfo[39m] Î“Â£Ã  All system components initialized successfully
2025-11-12 05:50:18 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ System Summary:
2025-11-12 05:50:18 [[32minfo[39m]    Î“Ã‡Ã³ Database: SQLite with DAL optimization
2025-11-12 05:50:18 [[32minfo[39m]    Î“Ã‡Ã³ Engines: 9 enterprise engines loaded
2025-11-12 05:50:18 [[32minfo[39m]    Î“Ã‡Ã³ Integrations: WebSocket, MQTT, Multi-protocol
2025-11-12 05:50:18 [[32minfo[39m]    Î“Ã‡Ã³ Security: Rate limiting, JWT auth, audit logging
2025-11-12 05:50:18 [[32minfo[39m]    Î“Ã‡Ã³ Performance: Caching, streaming, optimization
2025-11-12 05:50:18 [[32minfo[39m] â‰¡Æ’Â¢Ãºâˆ©â••Ã… Setting up application routes...
2025-11-12 05:50:18 [[32minfo[39m] Î“Â£Ã  All routes configured successfully
  console.error
    Error getting tracing status: Error: Test error
        at statusHandler (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\routes\api\tracing.js:9:19)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:284:15
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at router.handle (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:175:3)
        at router (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:831:13)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\middleware\request-metrics.js:53:9)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:658:5)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:659:7
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:576:5

    [0m [90m 30 |[39m         res[33m.[39mjson({ success[33m:[39m [36mtrue[39m[33m,[39m status })[33m;[39m
     [90m 31 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 32 |[39m         console[33m.[39merror([32m'Error getting tracing status:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 33 |[39m         res[33m.[39mstatus([35m500[39m)[33m.[39mjson({ success[33m:[39m [36mfalse[39m[33m,[39m error[33m:[39m error[33m.[39mmessage })[33m;[39m
     [90m 34 |[39m     }
     [90m 35 |[39m }[33m;[39m[0m

      at error (routes/api/tracing.js:32:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:831:13)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (middleware/request-metrics.js:53:9)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:658:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/express-rate-limit/dist/index.cjs:659:7
      at node_modules/express-rate-limit/dist/index.cjs:576:5

  console.error
    Error getting dependencies: Error: Test error
        at dependenciesHandler (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\routes\api\tracing.js:43:19)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:284:15
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at router.handle (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:175:3)
        at router (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:831:13)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\middleware\request-metrics.js:53:9)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:658:5)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:659:7
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:576:5

    [0m [90m  96 |[39m         res[33m.[39mjson({ success[33m:[39m [36mtrue[39m[33m,[39m dependencies })[33m;[39m
     [90m  97 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m  98 |[39m         console[33m.[39merror([32m'Error getting dependencies:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m  99 |[39m         res[33m.[39mstatus([35m500[39m)[33m.[39mjson({ success[33m:[39m [36mfalse[39m[33m,[39m error[33m:[39m error[33m.[39mmessage })[33m;[39m
     [90m 100 |[39m     }
     [90m 101 |[39m }[33m;[39m[0m

      at error (routes/api/tracing.js:98:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:831:13)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (middleware/request-metrics.js:53:9)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:658:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/express-rate-limit/dist/index.cjs:659:7
      at node_modules/express-rate-limit/dist/index.cjs:576:5

  console.error
    Error searching traces: Error: Test error
        at searchHandler (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\routes\api\tracing.js:109:19)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:284:15
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at router.handle (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:175:3)
        at router (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:831:13)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\middleware\request-metrics.js:53:9)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:658:5)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:659:7
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:576:5

    [0m [90m 143 |[39m         })[33m;[39m
     [90m 144 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 145 |[39m         console[33m.[39merror([32m'Error searching traces:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 146 |[39m         res[33m.[39mstatus([35m500[39m)[33m.[39mjson({ success[33m:[39m [36mfalse[39m[33m,[39m error[33m:[39m error[33m.[39mmessage })[33m;[39m
     [90m 147 |[39m     }
     [90m 148 |[39m }[33m;[39m[0m

      at error (routes/api/tracing.js:145:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:831:13)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (middleware/request-metrics.js:53:9)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:658:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/express-rate-limit/dist/index.cjs:659:7
      at node_modules/express-rate-limit/dist/index.cjs:576:5

  console.error
    Error getting trace detail: Error: Test error
        at traceHandler (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\routes\api\tracing.js:156:19)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:284:15
        at param (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:365:14)
        at param (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:376:14)
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:421:3)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at router.handle (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:175:3)
        at router (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:831:13)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\middleware\request-metrics.js:53:9)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:658:5)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:659:7
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:576:5

    [0m [90m 218 |[39m         res[33m.[39mjson({ success[33m:[39m [36mtrue[39m[33m,[39m trace })[33m;[39m
     [90m 219 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 220 |[39m         console[33m.[39merror([32m'Error getting trace detail:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 221 |[39m         res[33m.[39mstatus([35m500[39m)[33m.[39mjson({ success[33m:[39m [36mfalse[39m[33m,[39m error[33m:[39m error[33m.[39mmessage })[33m;[39m
     [90m 222 |[39m     }
     [90m 223 |[39m }[33m;[39m[0m

      at error (routes/api/tracing.js:220:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at param (node_modules/express/lib/router/index.js:365:14)
      at param (node_modules/express/lib/router/index.js:376:14)
      at router.process_params (node_modules/express/lib/router/index.js:421:3)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:831:13)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (middleware/request-metrics.js:53:9)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:658:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/express-rate-limit/dist/index.cjs:659:7
      at node_modules/express-rate-limit/dist/index.cjs:576:5

2025-11-12 05:50:19 [[31merror[39m] SQL Error (1ms): INSERT INTO webhooks (name, url, method, headers, active, created_at) 
                     VALUES (?, ?, ?, ?, ?, datetime('now'))
  console.error
    API create webhook error: [Error: SQLITE_CONSTRAINT: NOT NULL constraint failed: webhooks.name] {
      errno: 19,
      code: 'SQLITE_CONSTRAINT'
    }

    [0m [90m 30 |[39m         res[33m.[39mjson({ webhook })[33m;[39m
     [90m 31 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 32 |[39m         console[33m.[39merror([32m'API create webhook error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 33 |[39m         res[33m.[39mstatus([35m500[39m)[33m.[39mjson({ error[33m:[39m [32m'Failed to create webhook'[39m })[33m;[39m
     [90m 34 |[39m     }
     [90m 35 |[39m })[33m;[39m[0m

      at error (routes/api/webhooks.js:32:17)

2025-11-12 05:50:19 [[33mwarn[39m] No fields to update for webhook
  console.error
    API update webhook error: TypeError: req.dal.logUserActivity is not a function
        at logUserActivity (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\routes\api\webhooks.js:43:23)
        at processTicksAndRejections (node:internal/process/task_queues:103:5)

    [0m [90m 52 |[39m         res[33m.[39mjson({ webhook })[33m;[39m
     [90m 53 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 54 |[39m         console[33m.[39merror([32m'API update webhook error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 55 |[39m         res[33m.[39mstatus([35m500[39m)[33m.[39mjson({ error[33m:[39m [32m'Failed to update webhook'[39m })[33m;[39m
     [90m 56 |[39m     }
     [90m 57 |[39m })[33m;[39m[0m

      at error (routes/api/webhooks.js:54:17)

  console.error
    API delete webhook error: TypeError: req.dal.logUserActivity is not a function
        at logUserActivity (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\routes\api\webhooks.js:65:23)

    [0m [90m 74 |[39m         res[33m.[39mjson({ success[33m:[39m [36mtrue[39m })[33m;[39m
     [90m 75 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 76 |[39m         console[33m.[39merror([32m'API delete webhook error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 77 |[39m         res[33m.[39mstatus([35m500[39m)[33m.[39mjson({ error[33m:[39m [32m'Failed to delete webhook'[39m })[33m;[39m
     [90m 78 |[39m     }
     [90m 79 |[39m })[33m;[39m[0m

      at error (routes/api/webhooks.js:76:17)

  console.error
    API test webhook error: TypeError: req.dal.testWebhook is not a function
        at testWebhook (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\routes\api\webhooks.js:106:38)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:284:15
        at param (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:365:14)
        at param (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:376:14)
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:421:3)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at router.handle (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:175:3)
        at router (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:831:13)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\middleware\request-metrics.js:53:9)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:658:5)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:659:7
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:576:5

    [0m [90m 118 |[39m         res[33m.[39mjson(result)[33m;[39m
     [90m 119 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 120 |[39m         console[33m.[39merror([32m'API test webhook error:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 121 |[39m         res[33m.[39mstatus([35m500[39m)[33m.[39mjson({ error[33m:[39m [32m'Failed to test webhook'[39m })[33m;[39m
     [90m 122 |[39m     }
     [90m 123 |[39m })[33m;[39m[0m

      at error (routes/api/webhooks.js:120:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at param (node_modules/express/lib/router/index.js:365:14)
      at param (node_modules/express/lib/router/index.js:376:14)
      at router.process_params (node_modules/express/lib/router/index.js:421:3)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:831:13)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (middleware/request-metrics.js:53:9)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:658:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/express-rate-limit/dist/index.cjs:659:7
      at node_modules/express-rate-limit/dist/index.cjs:576:5

  console.error
    API toggle webhook error: TypeError: req.dal.toggleWebhook is not a function
        at toggleWebhook (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\routes\api\webhooks.js:84:38)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:284:15
        at param (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:365:14)
        at param (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:376:14)
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:421:3)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at router.handle (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:175:3)
        at router (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:831:13)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\middleware\request-metrics.js:53:9)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:658:5)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:659:7
        at processTicksAndRejections (node:internal/process/task_queues:103:5)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:576:5

    [0m [90m  96 |[39m         res[33m.[39mjson(result)[33m;[39m
     [90m  97 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m  98 |[39m         console[33m.[39merror([32m'API toggle webhook error:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m  99 |[39m         res[33m.[39mstatus([35m500[39m)[33m.[39mjson({ error[33m:[39m [32m'Failed to toggle webhook'[39m })[33m;[39m
     [90m 100 |[39m     }
     [90m 101 |[39m })[33m;[39m[0m

      at error (routes/api/webhooks.js:98:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at param (node_modules/express/lib/router/index.js:365:14)
      at param (node_modules/express/lib/router/index.js:376:14)
      at router.process_params (node_modules/express/lib/router/index.js:421:3)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:831:13)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (middleware/request-metrics.js:53:9)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:658:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/express-rate-limit/dist/index.cjs:659:7
      at node_modules/express-rate-limit/dist/index.cjs:576:5

2025-11-12 05:50:19 [[31merror[39m] SQL All Error (19ms): SELECT setting_key, setting_value, category FROM settings
  console.warn
    Failed to load settings from database, using defaults: SQLITE_ERROR: no such table: settings

    [0m [90m 69 |[39m                 })[33m;[39m
     [90m 70 |[39m             } [36mcatch[39m (dbErr) {
    [31m[1m>[22m[39m[90m 71 |[39m                 console[33m.[39mwarn([32m'Failed to load settings from database, using defaults:'[39m[33m,[39m dbErr[33m.[39mmessage)[33m;[39m
     [90m    |[39m                         [31m[1m^[22m[39m
     [90m 72 |[39m             }
     [90m 73 |[39m         }
     [90m 74 |[39m[0m

      at warn (routes/api/settings.js:71:25)

  console.error
    Error getting alerts: TypeError: dal.all is not a function
        at all (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\routes\api\alerts.js:32:34)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:284:15
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at router.handle (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:175:3)
        at router (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:831:13)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\middleware\request-metrics.js:53:9)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:658:5)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:659:7
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:576:5

    [0m [90m 42 |[39m         res[33m.[39mjson({ success[33m:[39m [36mtrue[39m[33m,[39m alerts[33m:[39m parsedAlerts })[33m;[39m
     [90m 43 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 44 |[39m         console[33m.[39merror([32m'Error getting alerts:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 45 |[39m         res[33m.[39mstatus([35m500[39m)[33m.[39mjson({ success[33m:[39m [36mfalse[39m[33m,[39m error[33m:[39m error[33m.[39mmessage })[33m;[39m
     [90m 46 |[39m     }
     [90m 47 |[39m })[33m;[39m[0m

      at error (routes/api/alerts.js:44:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:831:13)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (middleware/request-metrics.js:53:9)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:658:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/express-rate-limit/dist/index.cjs:659:7
      at node_modules/express-rate-limit/dist/index.cjs:576:5

  console.log
    User theme updated by user 1

      at log (routes/api/user-theme.js:99:17)

  console.log
    User theme reset by user 1

      at log (routes/api/user-theme.js:146:17)

2025-11-12 05:50:21 [[31merror[39m] SQL All Error (9ms): SELECT 
                ak.*,
                u.username as created_by_username
             FROM api_keys ak
             LEFT JOIN users u ON ak.created_by = u.id
             ORDER BY ak.created_at DESC
  console.error
    Error getting audit trail: TypeError: dal.getAllActivity is not a function
        at getAllActivity (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\routes\api\audit-trail.js:33:40)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:284:15
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at router.handle (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:175:3)
        at router (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:831:13)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:646:15
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:265:14)
        ... collapsed 75 duplicate lines matching above 15 lines 5 times...
        at router.handle (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:175:3)
        at router (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:47:12)

    [0m [90m 89 |[39m         })[33m;[39m
     [90m 90 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 91 |[39m         console[33m.[39merror([32m'Error getting audit trail:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 92 |[39m         res[33m.[39mstatus([35m500[39m)[33m.[39mjson({ success[33m:[39m [36mfalse[39m[33m,[39m error[33m:[39m error[33m.[39mmessage })[33m;[39m
     [90m 93 |[39m     }
     [90m 94 |[39m })[33m;[39m[0m

      at error (routes/api/audit-trail.js:91:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:831:13)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/express/lib/router/index.js:646:15
      at next (node_modules/express/lib/router/index.js:265:14)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:831:13)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/express/lib/router/index.js:646:15
      at next (node_modules/express/lib/router/index.js:265:14)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:831:13)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/express/lib/router/index.js:646:15
      at next (node_modules/express/lib/router/index.js:265:14)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:831:13)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/express/lib/router/index.js:646:15
      at next (node_modules/express/lib/router/index.js:265:14)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:831:13)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/express/lib/router/index.js:646:15
      at next (node_modules/express/lib/router/index.js:265:14)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:831:13)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/express/lib/router/index.js:646:15

  console.log
    Î“Â£Ã  Test suite completed successfully - timeout cleared

      at Object.log (tests/jest.setup.js:19:13)

FAIL tests/comprehensive-static-runtime.test.js (9.003 s)
  â‰¡Æ’Ã¶Ã¬ STATIC CODE STRUCTURE ANALYSIS
    Route File Existence & Structure
      Î“ÃªÃœ Î“Â£Ã´ Route file activity.js exists and is valid (4 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file admin.js exists and is valid (2 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file alerts.js exists and is valid (2 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file analytics.js exists and is valid (1 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file api-keys.js exists and is valid (2 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file audit-trail.js exists and is valid (2 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file backups.js exists and is valid (1 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file dashboard.js exists and is valid (2 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file dashboards.js exists and is valid (1 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file ingestion.js exists and is valid (1 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file integrations.js exists and is valid (1 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file logs.js exists and is valid (1 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file rate-limits.js exists and is valid (2 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file saved-searches.js exists and is valid (2 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file search.js exists and is valid (1 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file security.js exists and is valid (2 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file settings.js exists and is valid (1 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file system.js exists and is valid (2 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file themes.js exists and is valid (1 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file tracing.js exists and is valid (1 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file user-theme.js exists and is valid (2 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file users.js exists and is valid (1 ms)
      Î“ÃªÃœ Î“Â£Ã´ Route file webhooks.js exists and is valid (1 ms)
      Î“ÃªÃœ Î“Â£Ã´ All route files follow consistent pattern (10 ms)
    Middleware File Structure
      Î“ÃªÃœ Î“Â£Ã´ Request metrics middleware exists (2 ms)
      Î“ÃªÃœ Î“Â£Ã´ Middleware exports correct signature (1 ms)
  â‰¡Æ’Ã…Ã¢ RUNTIME ROUTE VALIDATION - ALL ENDPOINTS
    /api/tracing/* - Tracing Endpoints
      Î“ÃªÃœ Î“Â£Ã´ GET /api/tracing/status (40 ms)
      â”œÃ¹ Î“Â£Ã´ GET /api/status (alias) (85 ms)
      Î“ÃªÃœ Î“Â£Ã´ GET /api/tracing/dependencies (20 ms)
      Î“ÃªÃœ Î“Â£Ã´ GET /api/tracing/search (22 ms)
      Î“ÃªÃœ Î“Â£Ã´ GET /api/tracing/trace/:traceId (19 ms)
      Î“ÃªÃœ Î“Â£Ã´ Tracing status handles errors (60 ms)
      Î“ÃªÃœ Î“Â£Ã´ Dependencies handles errors (25 ms)
      Î“ÃªÃœ Î“Â£Ã´ Search handles errors (24 ms)
      Î“ÃªÃœ Î“Â£Ã´ Trace detail handles errors (29 ms)
    /api/logs - Logs Endpoints
      Î“ÃªÃœ Î“Â£Ã´ GET /api/logs returns log data (23 ms)
      Î“ÃªÃœ Î“Â£Ã´ POST /api/logs accepts new log entry (81 ms)
      Î“ÃªÃœ Î“Â£Ã´ GET /api/logs with filters (19 ms)
      Î“ÃªÃœ Î“Â£Ã´ Logs endpoint validates input (78 ms)
    /api/users - User Management
      Î“ÃªÃœ Î“Â£Ã´ GET /api/users lists users (20 ms)
      Î“ÃªÃœ Î“Â£Ã´ POST /api/users creates user (93 ms)
      Î“ÃªÃœ Î“Â£Ã´ PUT /api/users/:id updates user (20 ms)
      Î“ÃªÃœ Î“Â£Ã´ DELETE /api/users/:id deletes user (17 ms)
      Î“ÃªÃœ Î“Â£Ã´ GET /api/users/roles lists roles (17 ms)
    /api/webhooks - Webhook Management
      Î“ÃªÃœ Î“Â£Ã´ GET /api/webhooks lists webhooks (21 ms)
      â”œÃ¹ Î“Â£Ã´ POST /api/webhooks creates webhook (26 ms)
      â”œÃ¹ Î“Â£Ã´ PUT /api/webhooks/:id updates webhook (33 ms)
      â”œÃ¹ Î“Â£Ã´ DELETE /api/webhooks/:id deletes webhook (19 ms)
      â”œÃ¹ Î“Â£Ã´ POST /api/webhooks/:id/test tests webhook (25 ms)
      â”œÃ¹ Î“Â£Ã´ POST /api/webhooks/:id/toggle toggles webhook (22 ms)
      Î“ÃªÃœ Î“Â£Ã´ GET /api/webhooks/:id/deliveries lists deliveries (19 ms)
    /api/settings - Settings Management
      Î“ÃªÃœ Î“Â£Ã´ GET /api/settings retrieves settings (45 ms)
      Î“ÃªÃœ Î“Â£Ã´ POST /api/settings updates settings (88 ms)
    /api/search - Search Functionality
      Î“ÃªÃœ Î“Â£Ã´ GET /api/search performs search (89 ms)
      Î“ÃªÃœ Î“Â£Ã´ Search with complex query (85 ms)
    /api/alerts - Alert Management
      â”œÃ¹ Î“Â£Ã´ GET /api/alerts lists alerts (30 ms)
      Î“ÃªÃœ Î“Â£Ã´ POST /api/alerts creates alert (21 ms)
    /api/dashboards - Dashboard Management
      Î“ÃªÃœ Î“Â£Ã´ GET /api/dashboards lists dashboards (22 ms)
    /api/analytics - Analytics Data
      Î“ÃªÃœ Î“Â£Ã´ GET /api/analytics retrieves analytics (110 ms)
    /api/ingestion - Log Ingestion
      Î“ÃªÃœ Î“Â£Ã´ POST /api/ingestion/syslog ingests syslog (95 ms)
      Î“ÃªÃœ Î“Â£Ã´ POST /api/ingestion/json ingests JSON (97 ms)
      Î“ÃªÃœ Î“Â£Ã´ GET /api/ingestion/stats retrieves stats (112 ms)
    /api/system - System Information
      Î“ÃªÃœ Î“Â£Ã´ GET /api/system/status retrieves system status (135 ms)
      Î“ÃªÃœ Î“Â£Ã´ GET /api/system/metrics retrieves metrics (32 ms)
    /api/backups - Backup Management
      Î“ÃªÃœ Î“Â£Ã´ GET /api/backups lists backups (37 ms)
      Î“ÃªÃœ Î“Â£Ã´ POST /api/backups creates backup (91 ms)
    /api/themes - Theme Management
      Î“ÃªÃœ Î“Â£Ã´ GET /api/themes lists themes (107 ms)
    /api/user-theme - User Theme Settings
      Î“ÃªÃœ Î“Â£Ã´ GET /api/user/theme retrieves user theme (48 ms)
      Î“ÃªÃœ Î“Â£Ã´ POST /api/user/theme sets user theme (54 ms)
      Î“ÃªÃœ Î“Â£Ã´ DELETE /api/user/theme resets theme (46 ms)
    /api/integrations - Integration Management
      Î“ÃªÃœ Î“Â£Ã´ GET /api/integrations lists integrations (86 ms)
    /api/api-keys - API Key Management
      â”œÃ¹ Î“Â£Ã´ GET /api/api-keys lists API keys (84 ms)
    /api/saved-searches - Saved Search Management
      Î“ÃªÃœ Î“Â£Ã´ GET /api/saved-searches lists saved searches (52 ms)
    /api/audit-trail - Audit Trail
      â”œÃ¹ Î“Â£Ã´ GET /api/audit-trail retrieves audit log (111 ms)
    /api/activity - Activity Log
      Î“ÃªÃœ Î“Â£Ã´ GET /api/activity retrieves activity (22 ms)
    /api/rate-limits - Rate Limit Info
      Î“ÃªÃœ Î“Â£Ã´ GET /api/rate-limits retrieves rate limits (91 ms)
    /api/security - Security Settings
      Î“ÃªÃœ Î“Â£Ã´ GET /api/security retrieves security settings (109 ms)
    /api/admin - Admin Panel
      Î“ÃªÃœ Î“Â£Ã´ GET /api/admin accesses admin panel (118 ms)
    /api/dashboard - Dashboard Data
      Î“ÃªÃœ Î“Â£Ã´ GET /api/dashboard retrieves dashboard data (96 ms)
  â‰¡Æ’Ã†â•› DATABASE & PERSISTENCE TESTS
    Database Connection
      Î“ÃªÃœ Î“Â£Ã´ Database is accessible (21 ms)
      Î“ÃªÃœ Î“Â£Ã´ Multiple concurrent DB operations (95 ms)
    Data Persistence
      Î“ÃªÃœ Î“Â£Ã´ Created data persists across requests (120 ms)
  Î“ÃœÃ­ PERFORMANCE & RESOURCE TESTS
    Response Times
      Î“ÃªÃœ Î“Â£Ã´ Health check responds quickly (17 ms)
      Î“ÃªÃœ Î“Â£Ã´ API endpoints respond within acceptable time (24 ms)
    Memory Management
      Î“ÃªÃœ Î“Â£Ã´ Multiple requests do not cause memory leak (503 ms)
    Concurrent Load
      Î“ÃªÃœ Î“Â£Ã´ Handles 20 concurrent requests (278 ms)

  Î“Ã¹Ã… â‰¡Æ’Ã…Ã¢ RUNTIME ROUTE VALIDATION - ALL ENDPOINTS Î“Ã‡â•‘ /api/tracing/* - Tracing Endpoints Î“Ã‡â•‘ Î“Â£Ã´ GET /api/status (alias)

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

      120 |         .timeout(SHORT_TIMEOUT);
      121 |       
    > 122 |       expect(res.statusCode).toBe(200);
          |                              ^
      123 |     }));
      124 |
      125 |     test('Î“Â£Ã´ GET /api/tracing/dependencies', withSafeAsync(async () => {

      at toBe (tests/comprehensive-static-runtime.test.js:122:30)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Ã…Ã¢ RUNTIME ROUTE VALIDATION - ALL ENDPOINTS Î“Ã‡â•‘ /api/webhooks - Webhook Management Î“Ã‡â•‘ Î“Â£Ã´ POST /api/webhooks creates webhook

    expect(received).toContain(expected) // indexOf

    Expected value: 500
    Received array: [200, 201, 400, 404]

      317 |         .timeout(SHORT_TIMEOUT);
      318 |       
    > 319 |       expect([200, 201, 400, 404]).toContain(res.statusCode);
          |                                    ^
      320 |     }));
      321 |
      322 |     test('Î“Â£Ã´ PUT /api/webhooks/:id updates webhook', withSafeAsync(async () => {

      at toContain (tests/comprehensive-static-runtime.test.js:319:36)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Ã…Ã¢ RUNTIME ROUTE VALIDATION - ALL ENDPOINTS Î“Ã‡â•‘ /api/webhooks - Webhook Management Î“Ã‡â•‘ Î“Â£Ã´ PUT /api/webhooks/:id updates webhook

    expect(received).toContain(expected) // indexOf

    Expected value: 500
    Received array: [200, 404]

      327 |         .timeout(SHORT_TIMEOUT);
      328 |       
    > 329 |       expect([200, 404]).toContain(res.statusCode);
          |                          ^
      330 |     }));
      331 |
      332 |     test('Î“Â£Ã´ DELETE /api/webhooks/:id deletes webhook', withSafeAsync(async () => {

      at toContain (tests/comprehensive-static-runtime.test.js:329:26)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Ã…Ã¢ RUNTIME ROUTE VALIDATION - ALL ENDPOINTS Î“Ã‡â•‘ /api/webhooks - Webhook Management Î“Ã‡â•‘ Î“Â£Ã´ DELETE /api/webhooks/:id deletes webhook

    expect(received).toContain(expected) // indexOf

    Expected value: 500
    Received array: [200, 404]

      336 |         .timeout(SHORT_TIMEOUT);
      337 |       
    > 338 |       expect([200, 404]).toContain(res.statusCode);
          |                          ^
      339 |     }));
      340 |
      341 |     test('Î“Â£Ã´ POST /api/webhooks/:id/test tests webhook', withSafeAsync(async () => {

      at toContain (tests/comprehensive-static-runtime.test.js:338:26)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Ã…Ã¢ RUNTIME ROUTE VALIDATION - ALL ENDPOINTS Î“Ã‡â•‘ /api/webhooks - Webhook Management Î“Ã‡â•‘ Î“Â£Ã´ POST /api/webhooks/:id/test tests webhook

    expect(received).toContain(expected) // indexOf

    Expected value: 500
    Received array: [200, 404]

      345 |         .timeout(SHORT_TIMEOUT);
      346 |       
    > 347 |       expect([200, 404]).toContain(res.statusCode);
          |                          ^
      348 |     }));
      349 |
      350 |     test('Î“Â£Ã´ POST /api/webhooks/:id/toggle toggles webhook', withSafeAsync(async () => {

      at toContain (tests/comprehensive-static-runtime.test.js:347:26)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Ã…Ã¢ RUNTIME ROUTE VALIDATION - ALL ENDPOINTS Î“Ã‡â•‘ /api/webhooks - Webhook Management Î“Ã‡â•‘ Î“Â£Ã´ POST /api/webhooks/:id/toggle toggles webhook

    expect(received).toContain(expected) // indexOf

    Expected value: 500
    Received array: [200, 404]

      354 |         .timeout(SHORT_TIMEOUT);
      355 |       
    > 356 |       expect([200, 404]).toContain(res.statusCode);
          |                          ^
      357 |     }));
      358 |
      359 |     test('Î“Â£Ã´ GET /api/webhooks/:id/deliveries lists deliveries', withSafeAsync(async () => {

      at toContain (tests/comprehensive-static-runtime.test.js:356:26)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Ã…Ã¢ RUNTIME ROUTE VALIDATION - ALL ENDPOINTS Î“Ã‡â•‘ /api/alerts - Alert Management Î“Ã‡â•‘ Î“Â£Ã´ GET /api/alerts lists alerts

    expect(received).toContain(expected) // indexOf

    Expected value: 500
    Received array: [200, 404]

      415 |         .timeout(SHORT_TIMEOUT);
      416 |       
    > 417 |       expect([200, 404]).toContain(res.statusCode);
          |                          ^
      418 |     }));
      419 |
      420 |     test('Î“Â£Ã´ POST /api/alerts creates alert', withSafeAsync(async () => {

      at toContain (tests/comprehensive-static-runtime.test.js:417:26)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Ã…Ã¢ RUNTIME ROUTE VALIDATION - ALL ENDPOINTS Î“Ã‡â•‘ /api/api-keys - API Key Management Î“Ã‡â•‘ Î“Â£Ã´ GET /api/api-keys lists API keys

    expect(received).toContain(expected) // indexOf

    Expected value: 500
    Received array: [200, 404]

      585 |         .timeout(SHORT_TIMEOUT);
      586 |       
    > 587 |       expect([200, 404]).toContain(res.statusCode);
          |                          ^
      588 |     }));
      589 |   });
      590 |

      at toContain (tests/comprehensive-static-runtime.test.js:587:26)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Ã…Ã¢ RUNTIME ROUTE VALIDATION - ALL ENDPOINTS Î“Ã‡â•‘ /api/audit-trail - Audit Trail Î“Ã‡â•‘ Î“Â£Ã´ GET /api/audit-trail retrieves audit log

    expect(received).toContain(expected) // indexOf

    Expected value: 500
    Received array: [200, 404]

      607 |         .timeout(SHORT_TIMEOUT);
      608 |       
    > 609 |       expect([200, 404]).toContain(res.statusCode);
          |                          ^
      610 |     }));
      611 |   });
      612 |

      at toContain (tests/comprehensive-static-runtime.test.js:609:26)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  console.log
    â‰¡Æ’Ã¶Âº Jest Setup Complete

      at Object.log (tests/jest.setup.js:46:9)

  console.log
    Î“Ã…â–’âˆ©â••Ã… Test Timeout: 30 seconds

      at Object.log (tests/jest.setup.js:47:9)

  console.log
    â‰¡Æ’Â¢Ã­âˆ©â••Ã… Safety Timeout: 25 seconds

      at Object.log (tests/jest.setup.js:48:9)

  console.log
    â‰¡Æ’ÃœÃ‡ Ready to test!

      at Object.log (tests/jest.setup.js:49:9)

  console.warn
    Î“ÃœÃ¡âˆ©â••Ã… Using ephemeral development JWT secret (DO NOT use in production). Set JWT_SECRET to override.

    [0m [90m 201 |[39m             [36mif[39m (allowFallback) {
     [90m 202 |[39m                 [36mconst[39m fallback [33m=[39m crypto[33m.[39mrandomBytes([35m32[39m)[33m.[39mtoString([32m'hex'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 203 |[39m                 console[33m.[39mwarn([32m'Î“ÃœÃ¡âˆ©â••Ã… Using ephemeral development JWT secret (DO NOT use in production). Set JWT_SECRET to override.'[39m)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 204 |[39m                 [36mreturn[39m fallback[33m;[39m
     [90m 205 |[39m             }
     [90m 206 |[39m             console[33m.[39merror([32m'â‰¡Æ’ÃœÂ¿ SECURITY WARNING: JWT_SECRET environment variable not set and no fallback allowed (production mode).'[39m)[33m;[39m[0m

      at warn (server.js:203:25)
      at Object.<anonymous> (server.js:209:10)
      at Object.require (tests/comprehensive-auth-middleware.test.js:21:27)

  console.log
    Î“Â£Ã  Comprehensive Auth & Middleware Test Suite Loaded

      at Object.log (tests/comprehensive-auth-middleware.test.js:628:9)

  console.log
    â‰¡Æ’Ã´Ã¨ Total Test Cases: 80+

      at Object.log (tests/comprehensive-auth-middleware.test.js:629:9)

  console.log
    â‰¡Æ’ÃœÃ‡ Spaceship Launch Ready!

      at Object.log (tests/comprehensive-auth-middleware.test.js:630:9)

2025-11-12 05:50:23 [[32minfo[39m] â‰¡Æ’Ã¶Âº Running database migration...
2025-11-12 05:50:24 [[32minfo[39m] Connected to database for migration
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’ÃœÃ‡ Starting database migration...
2025-11-12 05:50:24 [[32minfo[39m] Creating core system tables...
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ activity_log existing columns: id, user_id, action, resource_type, resource_id, details, ip_address, user_agent, timestamp, created_at
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  activity_log already has timestamp column
2025-11-12 05:50:24 [[32minfo[39m] Creating webhooks and integrations tables...
2025-11-12 05:50:24 [[32minfo[39m] Creating search and alerting tables...
2025-11-12 05:50:24 [[32minfo[39m] Creating enterprise engine tables...
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’Ã¶Ã¤ Creating Log File Analyzer tables...
2025-11-12 05:50:24 [[32minfo[39m] Creating database indexes for performance...
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  Database indexes created
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  Database migration completed successfully!
2025-11-12 05:50:24 [[32minfo[39m] Database connection closed
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  Database migration completed successfully
2025-11-12 05:50:24 [[32minfo[39m] Î“Ã…â”‚ Ensuring database is fully ready...
  console.log
    
    â‰¡Æ’Ã¶Ã¬ Universal SQLite Adapter - Environment Detection

      at new log (universal-sqlite-adapter.js:32:17)

  console.log
    Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼

      at new log (universal-sqlite-adapter.js:33:17)

  console.log
    â‰¡Æ’Ã»Ã‘âˆ©â••Ã…  Platform: win32

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:58:17)

  console.log
    â‰¡Æ’Ã‰â”‚ Docker Environment: false

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:59:17)

  console.log
    â‰¡Æ’Ã…Ã¡ Node.js Version: v25.0.0

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:60:17)

  console.log
    Î“Â£Ã  Using sql.js (WebAssembly Compatibility)

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:74:25)

  console.log
    Î“ÃœÃ¡âˆ©â••Ã…  sql.js requires async init, falling back to sqlite3

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:115:29)

  console.log
    â‰¡Æ’ÃœÃ‡ Database initialized with sqlite3

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:126:21)

  console.log
    Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:127:21)

2025-11-12 05:50:24 [[32minfo[39m] Database initialized with sqlite3 (Legacy (Slowest - Callback-based))
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  System settings loaded via DAL:
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  Database Access Layer initialized successfully
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’Ã¶Âº Initializing system components...
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Initializing Metrics Manager...
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  Metrics Manager initialized
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’Ã¶Ã® Initializing integrations...
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  All integrations initialized
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  WebhookManager initialized
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Database schema validated during migration - proceeding with engine initialization
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’ÃœÂ¿ Initializing Enhanced Real-time Alerting Engine...
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Loaded 4 alert rules from database
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  Admin user lookup successful
2025-11-12 05:50:24 [[32minfo[39m] No notification channels in database
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  Enhanced Alerting Engine initialized successfully
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Initializing Advanced Search Engine...
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  Advanced Search Engine initialized successfully
2025-11-12 05:50:24 [[33mwarn[39m] Î“Ã…Â¡âˆ©â••Ã… Skipping Multi-Protocol Ingestion Engine initialization in test mode
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  Retention schema created successfully
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Loaded 2 retention policies
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’Ã´Ã  Scheduled retention tasks
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  Data Retention Engine initialized successfully
2025-11-12 05:50:24 [[33mwarn[39m] Î“Ã…Â¡âˆ©â••Ã… Skipping Real-time Streaming Engine initialization in test mode
2025-11-12 05:50:24 [[32minfo[39m] Loaded 5 anomaly detection rules
2025-11-12 05:50:24 [[32minfo[39m] Loaded 0 baseline patterns
2025-11-12 05:50:24 [[32minfo[39m] Scheduled anomaly detection tasks
2025-11-12 05:50:24 [[32minfo[39m] AI-Powered Anomaly Detection Engine initialized successfully
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’Ã¶Ã¹ Initializing Log Correlation Engine...
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  Log Correlation Engine initialized successfully
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’ÃœÃ‡ Initializing Performance Optimization Engine...
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  Performance Optimization Engine initialized successfully
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Initializing Advanced Dashboard Builder...
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  Dashboard database tables verified
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Loaded 0 dashboard(s)
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’Ã„Â¢âˆ©â••Ã… Loaded 0 widget(s)
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Initialized 4 default widget templates
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  Advanced Dashboard Builder initialized
2025-11-12 05:50:24 [[32minfo[39m]    Î“Ã‡Ã³ Widget Types: 12 available
2025-11-12 05:50:24 [[32minfo[39m]    Î“Ã‡Ã³ Drag & Drop: Enabled
2025-11-12 05:50:24 [[32minfo[39m]    Î“Ã‡Ã³ Real-time Updates: Active
2025-11-12 05:50:24 [[32minfo[39m]    Î“Ã‡Ã³ Custom Layouts: Supported
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Initializing Distributed Tracing Engine...
2025-11-12 05:50:24 [[32minfo[39m]    Î“Ã‡Ã³ OpenTelemetry SDK: Active
2025-11-12 05:50:24 [[32minfo[39m]    Î“Ã‡Ã³ Jaeger Exporter: Configured
2025-11-12 05:50:24 [[32minfo[39m]    Î“Ã‡Ã³ Service Name:
2025-11-12 05:50:24 [[32minfo[39m]    Î“Ã‡Ã³ Sampling Rate:
2025-11-12 05:50:24 [[32minfo[39m]    Î“Ã‡Ã³ Trace Collection: Enabled
2025-11-12 05:50:24 [[32minfo[39m]    Î“Ã‡Ã³ Span Analysis: Ready
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  Distributed Tracing Engine initialized successfully
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  All system components initialized successfully
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ System Summary:
2025-11-12 05:50:24 [[32minfo[39m]    Î“Ã‡Ã³ Database: SQLite with DAL optimization
2025-11-12 05:50:24 [[32minfo[39m]    Î“Ã‡Ã³ Engines: 9 enterprise engines loaded
2025-11-12 05:50:24 [[32minfo[39m]    Î“Ã‡Ã³ Integrations: WebSocket, MQTT, Multi-protocol
2025-11-12 05:50:24 [[32minfo[39m]    Î“Ã‡Ã³ Security: Rate limiting, JWT auth, audit logging
2025-11-12 05:50:24 [[32minfo[39m]    Î“Ã‡Ã³ Performance: Caching, streaming, optimization
2025-11-12 05:50:24 [[32minfo[39m] â‰¡Æ’Â¢Ãºâˆ©â••Ã… Setting up application routes...
2025-11-12 05:50:24 [[32minfo[39m] Î“Â£Ã  All routes configured successfully
2025-11-12 05:50:25 [[31merror[39m] Authentication error: data and hash arguments required
2025-11-12 05:50:26 [[31merror[39m] SQL All Error (16ms): SELECT * FROM logs WHERE 1=1 AND level = ? AND (message LIKE ? OR category LIKE ?) ORDER BY timestamp DESC LIMIT ? OFFSET ?
  console.error
    API logs error: Error: SQLITE_ERROR: no such column: category
    --> in Database#all('SELECT * FROM logs WHERE 1=1 AND level = ? AND (message LIKE ? OR category LIKE ?) ORDER BY timestamp DESC LIMIT ? OFFSET ?', [ 'info', '%test%', '%test%', 100, 0 ], [Function (anonymous)])
        at all (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\universal-sqlite-adapter.js:343:29)
        at new Promise (<anonymous>)
        at UniversalSQLiteAdapter.all (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\universal-sqlite-adapter.js:316:16)
        at DatabaseAccessLayer.all (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\database-access-layer.js:156:43)
        at all (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\routes\api\logs.js:68:36)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:284:15
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at router.handle (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:175:3)
        at router (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:831:13)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\middleware\request-metrics.js:53:9)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:658:5)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:659:7
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:576:5 {
      errno: 1,
      code: 'SQLITE_ERROR',
      __augmented: true
    }

    [0m [90m 77 |[39m         })[33m;[39m
     [90m 78 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 79 |[39m         console[33m.[39merror([32m'API logs error:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 80 |[39m         res[33m.[39mstatus([35m500[39m)[33m.[39mjson({ error[33m:[39m [32m'Failed to fetch logs'[39m })[33m;[39m
     [90m 81 |[39m     }
     [90m 82 |[39m })[33m;[39m[0m

      at error (routes/api/logs.js:79:17)

  console.log
    Î“Â£Ã  Test suite completed successfully - timeout cleared

      at Object.log (tests/jest.setup.js:19:13)

FAIL tests/comprehensive-auth-middleware.test.js
  â‰¡Æ’Ã¶Ã‰ COMPREHENSIVE AUTHENTICATION TESTS
    Login Endpoint - All Paths
      â”œÃ¹ Î“Â£Ã´ Valid admin credentials return token (285 ms)
      Î“ÃªÃœ Î“Â£Ã´ Invalid credentials return 401 (262 ms)
      â”œÃ¹ Î“Â£Ã´ Missing username returns 400 (19 ms)
      â”œÃ¹ Î“Â£Ã´ Missing password returns 400 (51 ms)
      â”œÃ¹ Î“Â£Ã´ Empty body returns 400 (22 ms)
      Î“ÃªÃœ Î“Â£Ã´ Non-existent user returns 401 (21 ms)
      â”œÃ¹ Î“Â£Ã´ SQL injection attempt in username fails safely (11 ms)
      â”œÃ¹ Î“Â£Ã´ XSS attempt in username fails safely (12 ms)
      â”œÃ¹ Î“Â£Ã´ Very long username is rejected (12 ms)
      â”œÃ¹ Î“Â£Ã´ Very long password is rejected (11 ms)
    Token Validation - All Scenarios
      Î“ÃªÃœ Î“Â£Ã´ Valid token grants access to protected route (22 ms)
      Î“ÃªÃœ Î“Â£Ã´ No token returns 401 (19 ms)
      Î“ÃªÃœ Î“Â£Ã´ Invalid token returns 401 (20 ms)
      Î“ÃªÃœ Î“Â£Ã´ Malformed Authorization header returns 401 (17 ms)
      Î“ÃªÃœ Î“Â£Ã´ Empty Bearer token returns 401 (17 ms)
      Î“ÃªÃœ Î“Â£Ã´ Token with extra spaces is rejected (17 ms)
      Î“ÃªÃœ Î“Â£Ã´ Case-sensitive Bearer keyword (16 ms)
    Authorization Levels & Permissions
      Î“ÃªÃœ Î“Â£Ã´ Admin can access admin-only routes (19 ms)
      Î“ÃªÃœ Î“Â£Ã´ Admin can create users (92 ms)
      Î“ÃªÃœ Î“Â£Ã´ Admin can delete users (17 ms)
      Î“ÃªÃœ Î“Â£Ã´ Admin can modify system settings (77 ms)
  â‰¡Æ’Ã¶Ã¤ MIDDLEWARE EXECUTION ORDER TESTS
    Security Headers Middleware
      Î“ÃªÃœ Î“Â£Ã´ All security headers present on API responses (10 ms)
      Î“ÃªÃœ Î“Â£Ã´ CORS headers present when needed (10 ms)
      Î“ÃªÃœ Î“Â£Ã´ Content-Type header set correctly (9 ms)
    Rate Limiting Middleware
      â”œÃ¹ Î“Â£Ã´ Multiple rapid requests eventually rate-limited (91 ms)
      Î“ÃªÃœ Î“Â£Ã´ Rate limit headers present (13 ms)
    Request Metrics Middleware
      Î“ÃªÃœ Î“Â£Ã´ API requests are tracked (19 ms)
      Î“ÃªÃœ Î“Â£Ã´ Non-API requests are not tracked (10 ms)
      Î“ÃªÃœ Î“Â£Ã´ Failed requests still tracked (70 ms)
    Authentication Middleware Order
      Î“ÃªÃœ Î“Â£Ã´ Public routes accessible without auth (10 ms)
      Î“ÃªÃœ Î“Â£Ã´ Protected routes reject before other middleware runs (16 ms)
      Î“ÃªÃœ Î“Â£Ã´ Auth runs before business logic (15 ms)
    Error Handling Middleware
      Î“ÃªÃœ Î“Â£Ã´ 404 for non-existent routes (70 ms)
      Î“ÃªÃœ Î“Â£Ã´ 405 for wrong HTTP method (12 ms)
      Î“ÃªÃœ Î“Â£Ã´ Malformed JSON returns 400 (15 ms)
      Î“ÃªÃœ Î“Â£Ã´ Large payload handling (77 ms)
  â‰¡Æ’Â¢Ã­âˆ©â••Ã… SECURITY & EDGE CASE TESTS
    Input Validation & Sanitization
      â”œÃ¹ Î“Â£Ã´ Null bytes in input rejected (12 ms)
      â”œÃ¹ Î“Â£Ã´ Unicode characters handled correctly (11 ms)
      â”œÃ¹ Î“Â£Ã´ Emoji in input handled correctly (11 ms)
      Î“ÃªÃœ Î“Â£Ã´ Path traversal attempt rejected (70 ms)
    Concurrent Request Handling
      â”œÃ¹ Î“Â£Ã´ Multiple simultaneous logins (47 ms)
      Î“ÃªÃœ Î“Â£Ã´ Multiple simultaneous API calls with same token (75 ms)
    Timeout & Resource Limits
      Î“ÃªÃœ Î“Â£Ã´ Server responds within timeout (23 ms)
      â”œÃ¹ Î“Â£Ã´ Complex query completes in time (39 ms)
    HTTP Method Testing
      Î“ÃªÃœ Î“Â£Ã´ OPTIONS request handled (9 ms)
      Î“ÃªÃœ Î“Â£Ã´ HEAD request handled (11 ms)
      Î“ÃªÃœ Î“Â£Ã´ PATCH request handled or rejected appropriately (88 ms)
  â‰¡Æ’Ã´Ã¨ RESPONSE FORMAT & CONSISTENCY TESTS
    JSON Response Structure
      Î“ÃªÃœ Î“Â£Ã´ Successful responses have consistent structure (17 ms)
      Î“ÃªÃœ Î“Â£Ã´ Error responses have consistent structure (15 ms)
      Î“ÃªÃœ Î“Â£Ã´ All API responses are valid JSON (10 ms)
    HTTP Status Codes
      Î“ÃªÃœ Î“Â£Ã´ 200 for successful GET (10 ms)
      Î“ÃªÃœ Î“Â£Ã´ 401 for unauthenticated (16 ms)
      Î“ÃªÃœ Î“Â£Ã´ 404 for not found (11 ms)
      â”œÃ¹ Î“Â£Ã´ 400 for bad request (11 ms)

  Î“Ã¹Ã… â‰¡Æ’Ã¶Ã‰ COMPREHENSIVE AUTHENTICATION TESTS Î“Ã‡â•‘ Login Endpoint - All Paths Î“Ã‡â•‘ Î“Â£Ã´ Valid admin credentials return token

    expect(received).toBe(expected) // Object.is equality

    Expected: "admin"
    Received: "user"

      55 |       expect(res.body).toHaveProperty('user');
      56 |       expect(res.body.user.username).toBe('admin');
    > 57 |       expect(res.body.user.role).toBe('admin');
         |                                  ^
      58 |     }));
      59 |
      60 |     test('Î“Â£Ã´ Invalid credentials return 401', withSafeAsync(async () => {

      at toBe (tests/comprehensive-auth-middleware.test.js:57:34)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Ã¶Ã‰ COMPREHENSIVE AUTHENTICATION TESTS Î“Ã‡â•‘ Login Endpoint - All Paths Î“Ã‡â•‘ Î“Â£Ã´ Missing username returns 400

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 401

      75 |         .timeout(SHORT_TIMEOUT);
      76 |       
    > 77 |       expect(res.statusCode).toBe(400);
         |                              ^
      78 |       expect(res.body.success).toBe(false);
      79 |     }));
      80 |

      at toBe (tests/comprehensive-auth-middleware.test.js:77:30)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Ã¶Ã‰ COMPREHENSIVE AUTHENTICATION TESTS Î“Ã‡â•‘ Login Endpoint - All Paths Î“Ã‡â•‘ Î“Â£Ã´ Missing password returns 400

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 401

      85 |         .timeout(SHORT_TIMEOUT);
      86 |       
    > 87 |       expect(res.statusCode).toBe(400);
         |                              ^
      88 |       expect(res.body.success).toBe(false);
      89 |     }));
      90 |

      at toBe (tests/comprehensive-auth-middleware.test.js:87:30)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Ã¶Ã‰ COMPREHENSIVE AUTHENTICATION TESTS Î“Ã‡â•‘ Login Endpoint - All Paths Î“Ã‡â•‘ Î“Â£Ã´ Empty body returns 400

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 401

       95 |         .timeout(SHORT_TIMEOUT);
       96 |       
    >  97 |       expect(res.statusCode).toBe(400);
          |                              ^
       98 |     }));
       99 |
      100 |     test('Î“Â£Ã´ Non-existent user returns 401', withSafeAsync(async () => {

      at toBe (tests/comprehensive-auth-middleware.test.js:97:30)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Ã¶Ã‰ COMPREHENSIVE AUTHENTICATION TESTS Î“Ã‡â•‘ Login Endpoint - All Paths Î“Ã‡â•‘ Î“Â£Ã´ SQL injection attempt in username fails safely

    expect(received).toBe(expected) // Object.is equality

    Expected: 401
    Received: 429

      113 |         .timeout(SHORT_TIMEOUT);
      114 |       
    > 115 |       expect(res.statusCode).toBe(401);
          |                              ^
      116 |     }));
      117 |
      118 |     test('Î“Â£Ã´ XSS attempt in username fails safely', withSafeAsync(async () => {

      at toBe (tests/comprehensive-auth-middleware.test.js:115:30)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Ã¶Ã‰ COMPREHENSIVE AUTHENTICATION TESTS Î“Ã‡â•‘ Login Endpoint - All Paths Î“Ã‡â•‘ Î“Â£Ã´ XSS attempt in username fails safely

    expect(received).toBe(expected) // Object.is equality

    Expected: 401
    Received: 429

      122 |         .timeout(SHORT_TIMEOUT);
      123 |       
    > 124 |       expect(res.statusCode).toBe(401);
          |                              ^
      125 |     }));
      126 |
      127 |     test('Î“Â£Ã´ Very long username is rejected', withSafeAsync(async () => {

      at toBe (tests/comprehensive-auth-middleware.test.js:124:30)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Ã¶Ã‰ COMPREHENSIVE AUTHENTICATION TESTS Î“Ã‡â•‘ Login Endpoint - All Paths Î“Ã‡â•‘ Î“Â£Ã´ Very long username is rejected

    expect(received).toBe(expected) // Object.is equality

    Expected: 401
    Received: 429

      131 |         .timeout(SHORT_TIMEOUT);
      132 |       
    > 133 |       expect(res.statusCode).toBe(401);
          |                              ^
      134 |     }));
      135 |
      136 |     test('Î“Â£Ã´ Very long password is rejected', withSafeAsync(async () => {

      at toBe (tests/comprehensive-auth-middleware.test.js:133:30)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Ã¶Ã‰ COMPREHENSIVE AUTHENTICATION TESTS Î“Ã‡â•‘ Login Endpoint - All Paths Î“Ã‡â•‘ Î“Â£Ã´ Very long password is rejected

    expect(received).toBe(expected) // Object.is equality

    Expected: 401
    Received: 429

      140 |         .timeout(SHORT_TIMEOUT);
      141 |       
    > 142 |       expect(res.statusCode).toBe(401);
          |                              ^
      143 |     }));
      144 |   });
      145 |

      at toBe (tests/comprehensive-auth-middleware.test.js:142:30)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Ã¶Ã¤ MIDDLEWARE EXECUTION ORDER TESTS Î“Ã‡â•‘ Rate Limiting Middleware Î“Ã‡â•‘ Î“Â£Ã´ Multiple rapid requests eventually rate-limited

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

      308 |       // At least some should succeed before rate limiting
      309 |       const someSucceeded = results.some(r => r.statusCode === 401);
    > 310 |       expect(someSucceeded).toBe(true);
          |                             ^
      311 |     }, LONG_TIMEOUT));
      312 |
      313 |     test('Î“Â£Ã´ Rate limit headers present', withSafeAsync(async () => {

      at toBe (tests/comprehensive-auth-middleware.test.js:310:29)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Â¢Ã­âˆ©â••Ã… SECURITY & EDGE CASE TESTS Î“Ã‡â•‘ Input Validation & Sanitization Î“Ã‡â•‘ Î“Â£Ã´ Null bytes in input rejected

    expect(received).toBe(expected) // Object.is equality

    Expected: 401
    Received: 429

      434 |         .timeout(SHORT_TIMEOUT);
      435 |       
    > 436 |       expect(res.statusCode).toBe(401);
          |                              ^
      437 |     }));
      438 |
      439 |     test('Î“Â£Ã´ Unicode characters handled correctly', withSafeAsync(async () => {

      at toBe (tests/comprehensive-auth-middleware.test.js:436:30)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Â¢Ã­âˆ©â••Ã… SECURITY & EDGE CASE TESTS Î“Ã‡â•‘ Input Validation & Sanitization Î“Ã‡â•‘ Î“Â£Ã´ Unicode characters handled correctly

    expect(received).toBe(expected) // Object.is equality

    Expected: 401
    Received: 429

      443 |         .timeout(SHORT_TIMEOUT);
      444 |       
    > 445 |       expect(res.statusCode).toBe(401);
          |                              ^
      446 |     }));
      447 |
      448 |     test('Î“Â£Ã´ Emoji in input handled correctly', withSafeAsync(async () => {

      at toBe (tests/comprehensive-auth-middleware.test.js:445:30)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Â¢Ã­âˆ©â••Ã… SECURITY & EDGE CASE TESTS Î“Ã‡â•‘ Input Validation & Sanitization Î“Ã‡â•‘ Î“Â£Ã´ Emoji in input handled correctly

    expect(received).toBe(expected) // Object.is equality

    Expected: 401
    Received: 429

      452 |         .timeout(SHORT_TIMEOUT);
      453 |       
    > 454 |       expect(res.statusCode).toBe(401);
          |                              ^
      455 |     }));
      456 |
      457 |     test('Î“Â£Ã´ Path traversal attempt rejected', withSafeAsync(async () => {

      at toBe (tests/comprehensive-auth-middleware.test.js:454:30)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Â¢Ã­âˆ©â••Ã… SECURITY & EDGE CASE TESTS Î“Ã‡â•‘ Concurrent Request Handling Î“Ã‡â•‘ Î“Â£Ã´ Multiple simultaneous logins

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 429

      481 |       const results = await Promise.all(promises);
      482 |       results.forEach(res => {
    > 483 |         expect(res.statusCode).toBe(200);
          |                                ^
      484 |         expect(res.body).toHaveProperty('token');
      485 |       });
      486 |     }, LONG_TIMEOUT));

      at toBe (tests/comprehensive-auth-middleware.test.js:483:32)
          at Array.forEach (<anonymous>)
      at forEach (tests/comprehensive-auth-middleware.test.js:482:15)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Â¢Ã­âˆ©â••Ã… SECURITY & EDGE CASE TESTS Î“Ã‡â•‘ Timeout & Resource Limits Î“Ã‡â•‘ Î“Â£Ã´ Complex query completes in time

    expect(received).toContain(expected) // indexOf

    Expected value: 500
    Received array: [200, 404]

      523 |         .timeout(MEDIUM_TIMEOUT);
      524 |       
    > 525 |       expect([200, 404]).toContain(res.statusCode);
          |                          ^
      526 |     }));
      527 |   });
      528 |

      at toContain (tests/comprehensive-auth-middleware.test.js:525:26)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  Î“Ã¹Ã… â‰¡Æ’Ã´Ã¨ RESPONSE FORMAT & CONSISTENCY TESTS Î“Ã‡â•‘ HTTP Status Codes Î“Ã‡â•‘ Î“Â£Ã´ 400 for bad request

    expect(received).toBe(expected) // Object.is equality

    Expected: 400
    Received: 429

      621 |         .timeout(SHORT_TIMEOUT);
      622 |       
    > 623 |       expect(res.statusCode).toBe(400);
          |                              ^
      624 |     }));
      625 |   });
      626 | });

      at toBe (tests/comprehensive-auth-middleware.test.js:623:30)
      at Object.<anonymous> (tests/jest.setup.js:30:7)

  console.log
    â‰¡Æ’Ã¶Âº Jest Setup Complete

      at Object.log (tests/jest.setup.js:46:9)

  console.log
    Î“Ã…â–’âˆ©â••Ã… Test Timeout: 30 seconds

      at Object.log (tests/jest.setup.js:47:9)

  console.log
    â‰¡Æ’Â¢Ã­âˆ©â••Ã… Safety Timeout: 25 seconds

      at Object.log (tests/jest.setup.js:48:9)

  console.log
    â‰¡Æ’ÃœÃ‡ Ready to test!

      at Object.log (tests/jest.setup.js:49:9)

  console.warn
    Î“ÃœÃ¡âˆ©â••Ã… Using ephemeral development JWT secret (DO NOT use in production). Set JWT_SECRET to override.

    [0m [90m 201 |[39m             [36mif[39m (allowFallback) {
     [90m 202 |[39m                 [36mconst[39m fallback [33m=[39m crypto[33m.[39mrandomBytes([35m32[39m)[33m.[39mtoString([32m'hex'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 203 |[39m                 console[33m.[39mwarn([32m'Î“ÃœÃ¡âˆ©â••Ã… Using ephemeral development JWT secret (DO NOT use in production). Set JWT_SECRET to override.'[39m)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 204 |[39m                 [36mreturn[39m fallback[33m;[39m
     [90m 205 |[39m             }
     [90m 206 |[39m             console[33m.[39merror([32m'â‰¡Æ’ÃœÂ¿ SECURITY WARNING: JWT_SECRET environment variable not set and no fallback allowed (production mode).'[39m)[33m;[39m[0m

      at warn (server.js:203:25)
      at Object.<anonymous> (server.js:209:10)
      at Object.require (tests/auth.test.js:2:27)

2025-11-12 05:50:27 [[32minfo[39m] â‰¡Æ’Ã¶Âº Running database migration...
2025-11-12 05:50:27 [[32minfo[39m] Connected to database for migration
2025-11-12 05:50:27 [[32minfo[39m] â‰¡Æ’ÃœÃ‡ Starting database migration...
2025-11-12 05:50:27 [[32minfo[39m] Creating core system tables...
2025-11-12 05:50:27 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ activity_log existing columns: id, user_id, action, resource_type, resource_id, details, ip_address, user_agent, timestamp, created_at
2025-11-12 05:50:27 [[32minfo[39m] Î“Â£Ã  activity_log already has timestamp column
2025-11-12 05:50:27 [[32minfo[39m] Creating webhooks and integrations tables...
2025-11-12 05:50:27 [[32minfo[39m] Creating search and alerting tables...
2025-11-12 05:50:27 [[32minfo[39m] Creating enterprise engine tables...
2025-11-12 05:50:27 [[32minfo[39m] â‰¡Æ’Ã¶Ã¤ Creating Log File Analyzer tables...
2025-11-12 05:50:27 [[32minfo[39m] Creating database indexes for performance...
2025-11-12 05:50:27 [[32minfo[39m] Î“Â£Ã  Database indexes created
2025-11-12 05:50:27 [[32minfo[39m] Î“Â£Ã  Database migration completed successfully!
2025-11-12 05:50:27 [[32minfo[39m] Database connection closed
2025-11-12 05:50:27 [[32minfo[39m] Î“Â£Ã  Database migration completed successfully
2025-11-12 05:50:27 [[32minfo[39m] Î“Ã…â”‚ Ensuring database is fully ready...
  console.log
    
    â‰¡Æ’Ã¶Ã¬ Universal SQLite Adapter - Environment Detection

      at new log (universal-sqlite-adapter.js:32:17)

  console.log
    Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼

      at new log (universal-sqlite-adapter.js:33:17)

  console.log
    â‰¡Æ’Ã»Ã‘âˆ©â••Ã…  Platform: win32

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:58:17)

  console.log
    â‰¡Æ’Ã‰â”‚ Docker Environment: false

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:59:17)

  console.log
    â‰¡Æ’Ã…Ã¡ Node.js Version: v25.0.0

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:60:17)

  console.log
    Î“Â£Ã  Using sql.js (WebAssembly Compatibility)

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:74:25)

  console.log
    Î“ÃœÃ¡âˆ©â••Ã…  sql.js requires async init, falling back to sqlite3

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:115:29)

  console.log
    â‰¡Æ’ÃœÃ‡ Database initialized with sqlite3

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:126:21)

  console.log
    Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:127:21)

2025-11-12 05:50:28 [[32minfo[39m] Database initialized with sqlite3 (Legacy (Slowest - Callback-based))
2025-11-12 05:50:28 [[32minfo[39m] Î“Â£Ã  System settings loaded via DAL:
2025-11-12 05:50:28 [[32minfo[39m] Î“Â£Ã  Database Access Layer initialized successfully
2025-11-12 05:50:28 [[32minfo[39m] â‰¡Æ’Ã¶Âº Initializing system components...
2025-11-12 05:50:28 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Initializing Metrics Manager...
2025-11-12 05:50:28 [[32minfo[39m] Î“Â£Ã  Metrics Manager initialized
2025-11-12 05:50:28 [[32minfo[39m] â‰¡Æ’Ã¶Ã® Initializing integrations...
2025-11-12 05:50:28 [[32minfo[39m] Î“Â£Ã  All integrations initialized
2025-11-12 05:50:28 [[32minfo[39m] Î“Â£Ã  WebhookManager initialized
2025-11-12 05:50:28 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Database schema validated during migration - proceeding with engine initialization
2025-11-12 05:50:28 [[32minfo[39m] â‰¡Æ’ÃœÂ¿ Initializing Enhanced Real-time Alerting Engine...
2025-11-12 05:50:28 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Loaded 4 alert rules from database
2025-11-12 05:50:28 [[32minfo[39m] Î“Â£Ã  Admin user lookup successful
2025-11-12 05:50:28 [[32minfo[39m] No notification channels in database
2025-11-12 05:50:28 [[32minfo[39m] Î“Â£Ã  Enhanced Alerting Engine initialized successfully
2025-11-12 05:50:28 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Initializing Advanced Search Engine...
2025-11-12 05:50:28 [[32minfo[39m] Î“Â£Ã  Advanced Search Engine initialized successfully
2025-11-12 05:50:28 [[33mwarn[39m] Î“Ã…Â¡âˆ©â••Ã… Skipping Multi-Protocol Ingestion Engine initialization in test mode
2025-11-12 05:50:28 [[32minfo[39m] Î“Â£Ã  Retention schema created successfully
2025-11-12 05:50:28 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Loaded 2 retention policies
2025-11-12 05:50:28 [[32minfo[39m] â‰¡Æ’Ã´Ã  Scheduled retention tasks
2025-11-12 05:50:28 [[32minfo[39m] Î“Â£Ã  Data Retention Engine initialized successfully
2025-11-12 05:50:28 [[33mwarn[39m] Î“Ã…Â¡âˆ©â••Ã… Skipping Real-time Streaming Engine initialization in test mode
2025-11-12 05:50:28 [[32minfo[39m] Loaded 5 anomaly detection rules
2025-11-12 05:50:28 [[32minfo[39m] Loaded 0 baseline patterns
2025-11-12 05:50:28 [[32minfo[39m] Scheduled anomaly detection tasks
2025-11-12 05:50:28 [[32minfo[39m] AI-Powered Anomaly Detection Engine initialized successfully
2025-11-12 05:50:28 [[32minfo[39m] â‰¡Æ’Ã¶Ã¹ Initializing Log Correlation Engine...
2025-11-12 05:50:28 [[32minfo[39m] Î“Â£Ã  Log Correlation Engine initialized successfully
2025-11-12 05:50:28 [[32minfo[39m] â‰¡Æ’ÃœÃ‡ Initializing Performance Optimization Engine...
2025-11-12 05:50:28 [[32minfo[39m] Î“Â£Ã  Performance Optimization Engine initialized successfully
2025-11-12 05:50:28 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Initializing Advanced Dashboard Builder...
2025-11-12 05:50:28 [[32minfo[39m] Î“Â£Ã  Dashboard database tables verified
2025-11-12 05:50:28 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Loaded 0 dashboard(s)
2025-11-12 05:50:28 [[32minfo[39m] â‰¡Æ’Ã„Â¢âˆ©â••Ã… Loaded 0 widget(s)
2025-11-12 05:50:28 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Initialized 4 default widget templates
2025-11-12 05:50:28 [[32minfo[39m] Î“Â£Ã  Advanced Dashboard Builder initialized
2025-11-12 05:50:28 [[32minfo[39m]    Î“Ã‡Ã³ Widget Types: 12 available
2025-11-12 05:50:28 [[32minfo[39m]    Î“Ã‡Ã³ Drag & Drop: Enabled
2025-11-12 05:50:28 [[32minfo[39m]    Î“Ã‡Ã³ Real-time Updates: Active
2025-11-12 05:50:28 [[32minfo[39m]    Î“Ã‡Ã³ Custom Layouts: Supported
2025-11-12 05:50:28 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Initializing Distributed Tracing Engine...
2025-11-12 05:50:28 [[32minfo[39m]    Î“Ã‡Ã³ OpenTelemetry SDK: Active
2025-11-12 05:50:28 [[32minfo[39m]    Î“Ã‡Ã³ Jaeger Exporter: Configured
2025-11-12 05:50:28 [[32minfo[39m]    Î“Ã‡Ã³ Service Name:
2025-11-12 05:50:28 [[32minfo[39m]    Î“Ã‡Ã³ Sampling Rate:
2025-11-12 05:50:28 [[32minfo[39m]    Î“Ã‡Ã³ Trace Collection: Enabled
2025-11-12 05:50:28 [[32minfo[39m]    Î“Ã‡Ã³ Span Analysis: Ready
2025-11-12 05:50:28 [[32minfo[39m] Î“Â£Ã  Distributed Tracing Engine initialized successfully
2025-11-12 05:50:28 [[32minfo[39m] Î“Â£Ã  All system components initialized successfully
2025-11-12 05:50:28 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ System Summary:
2025-11-12 05:50:28 [[32minfo[39m]    Î“Ã‡Ã³ Database: SQLite with DAL optimization
2025-11-12 05:50:28 [[32minfo[39m]    Î“Ã‡Ã³ Engines: 9 enterprise engines loaded
2025-11-12 05:50:28 [[32minfo[39m]    Î“Ã‡Ã³ Integrations: WebSocket, MQTT, Multi-protocol
2025-11-12 05:50:28 [[32minfo[39m]    Î“Ã‡Ã³ Security: Rate limiting, JWT auth, audit logging
2025-11-12 05:50:28 [[32minfo[39m]    Î“Ã‡Ã³ Performance: Caching, streaming, optimization
2025-11-12 05:50:28 [[32minfo[39m] â‰¡Æ’Â¢Ãºâˆ©â••Ã… Setting up application routes...
2025-11-12 05:50:28 [[32minfo[39m] Î“Â£Ã  All routes configured successfully
  console.log
    Î“Â£Ã  Test suite completed successfully - timeout cleared

      at Object.log (tests/jest.setup.js:19:13)

PASS tests/auth.test.js
  Authentication Flow
    Î“ÃªÃœ Reject unauthenticated access to protected route (30 ms)
    Î“ÃªÃœ Login with valid admin credentials returns token (335 ms)
    Î“ÃªÃœ Login with invalid credentials fails (282 ms)

  console.log
    â‰¡Æ’Ã¶Âº Jest Setup Complete

      at Object.log (tests/jest.setup.js:46:9)

  console.log
    Î“Ã…â–’âˆ©â••Ã… Test Timeout: 30 seconds

      at Object.log (tests/jest.setup.js:47:9)

  console.log
    â‰¡Æ’Â¢Ã­âˆ©â••Ã… Safety Timeout: 25 seconds

      at Object.log (tests/jest.setup.js:48:9)

  console.log
    â‰¡Æ’ÃœÃ‡ Ready to test!

      at Object.log (tests/jest.setup.js:49:9)

  console.warn
    Î“ÃœÃ¡âˆ©â••Ã… Using ephemeral development JWT secret (DO NOT use in production). Set JWT_SECRET to override.

    [0m [90m 201 |[39m             [36mif[39m (allowFallback) {
     [90m 202 |[39m                 [36mconst[39m fallback [33m=[39m crypto[33m.[39mrandomBytes([35m32[39m)[33m.[39mtoString([32m'hex'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 203 |[39m                 console[33m.[39mwarn([32m'Î“ÃœÃ¡âˆ©â••Ã… Using ephemeral development JWT secret (DO NOT use in production). Set JWT_SECRET to override.'[39m)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 204 |[39m                 [36mreturn[39m fallback[33m;[39m
     [90m 205 |[39m             }
     [90m 206 |[39m             console[33m.[39merror([32m'â‰¡Æ’ÃœÂ¿ SECURITY WARNING: JWT_SECRET environment variable not set and no fallback allowed (production mode).'[39m)[33m;[39m[0m

      at warn (server.js:203:25)
      at Object.<anonymous> (server.js:209:10)
      at Object.require (tests/rate-limit.test.js:2:27)

2025-11-12 05:50:29 [[32minfo[39m] â‰¡Æ’Ã¶Âº Running database migration...
2025-11-12 05:50:29 [[32minfo[39m] Connected to database for migration
2025-11-12 05:50:29 [[32minfo[39m] â‰¡Æ’ÃœÃ‡ Starting database migration...
2025-11-12 05:50:29 [[32minfo[39m] Creating core system tables...
2025-11-12 05:50:29 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ activity_log existing columns: id, user_id, action, resource_type, resource_id, details, ip_address, user_agent, timestamp, created_at
2025-11-12 05:50:29 [[32minfo[39m] Î“Â£Ã  activity_log already has timestamp column
2025-11-12 05:50:29 [[32minfo[39m] Creating webhooks and integrations tables...
2025-11-12 05:50:30 [[32minfo[39m] Creating search and alerting tables...
2025-11-12 05:50:30 [[32minfo[39m] Creating enterprise engine tables...
2025-11-12 05:50:30 [[32minfo[39m] â‰¡Æ’Ã¶Ã¤ Creating Log File Analyzer tables...
2025-11-12 05:50:30 [[32minfo[39m] Creating database indexes for performance...
2025-11-12 05:50:30 [[32minfo[39m] Î“Â£Ã  Database indexes created
2025-11-12 05:50:30 [[32minfo[39m] Î“Â£Ã  Database migration completed successfully!
2025-11-12 05:50:30 [[32minfo[39m] Database connection closed
2025-11-12 05:50:30 [[32minfo[39m] Î“Â£Ã  Database migration completed successfully
2025-11-12 05:50:30 [[32minfo[39m] Î“Ã…â”‚ Ensuring database is fully ready...
  console.log
    
    â‰¡Æ’Ã¶Ã¬ Universal SQLite Adapter - Environment Detection

      at new log (universal-sqlite-adapter.js:32:17)

  console.log
    Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼

      at new log (universal-sqlite-adapter.js:33:17)

  console.log
    â‰¡Æ’Ã»Ã‘âˆ©â••Ã…  Platform: win32

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:58:17)

  console.log
    â‰¡Æ’Ã‰â”‚ Docker Environment: false

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:59:17)

  console.log
    â‰¡Æ’Ã…Ã¡ Node.js Version: v25.0.0

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:60:17)

  console.log
    Î“Â£Ã  Using sql.js (WebAssembly Compatibility)

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:74:25)

  console.log
    Î“ÃœÃ¡âˆ©â••Ã…  sql.js requires async init, falling back to sqlite3

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:115:29)

  console.log
    â‰¡Æ’ÃœÃ‡ Database initialized with sqlite3

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:126:21)

  console.log
    Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:127:21)

2025-11-12 05:50:30 [[32minfo[39m] Database initialized with sqlite3 (Legacy (Slowest - Callback-based))
2025-11-12 05:50:30 [[32minfo[39m] Î“Â£Ã  System settings loaded via DAL:
2025-11-12 05:50:30 [[32minfo[39m] Î“Â£Ã  Database Access Layer initialized successfully
2025-11-12 05:50:30 [[32minfo[39m] â‰¡Æ’Ã¶Âº Initializing system components...
2025-11-12 05:50:30 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Initializing Metrics Manager...
2025-11-12 05:50:30 [[32minfo[39m] Î“Â£Ã  Metrics Manager initialized
2025-11-12 05:50:30 [[32minfo[39m] â‰¡Æ’Ã¶Ã® Initializing integrations...
2025-11-12 05:50:30 [[32minfo[39m] Î“Â£Ã  All integrations initialized
2025-11-12 05:50:30 [[32minfo[39m] Î“Â£Ã  WebhookManager initialized
2025-11-12 05:50:30 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Database schema validated during migration - proceeding with engine initialization
2025-11-12 05:50:30 [[32minfo[39m] â‰¡Æ’ÃœÂ¿ Initializing Enhanced Real-time Alerting Engine...
2025-11-12 05:50:30 [[32minfo[39m] Î“Â£Ã  Admin user lookup successful
2025-11-12 05:50:30 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Loaded 4 alert rules from database
2025-11-12 05:50:30 [[32minfo[39m] No notification channels in database
2025-11-12 05:50:30 [[32minfo[39m] Î“Â£Ã  Enhanced Alerting Engine initialized successfully
2025-11-12 05:50:30 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Initializing Advanced Search Engine...
2025-11-12 05:50:30 [[32minfo[39m] Î“Â£Ã  Advanced Search Engine initialized successfully
2025-11-12 05:50:30 [[33mwarn[39m] Î“Ã…Â¡âˆ©â••Ã… Skipping Multi-Protocol Ingestion Engine initialization in test mode
2025-11-12 05:50:30 [[32minfo[39m] Î“Â£Ã  Retention schema created successfully
2025-11-12 05:50:30 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Loaded 2 retention policies
2025-11-12 05:50:30 [[32minfo[39m] â‰¡Æ’Ã´Ã  Scheduled retention tasks
2025-11-12 05:50:30 [[32minfo[39m] Î“Â£Ã  Data Retention Engine initialized successfully
2025-11-12 05:50:30 [[33mwarn[39m] Î“Ã…Â¡âˆ©â••Ã… Skipping Real-time Streaming Engine initialization in test mode
2025-11-12 05:50:30 [[32minfo[39m] Loaded 5 anomaly detection rules
2025-11-12 05:50:30 [[32minfo[39m] Loaded 0 baseline patterns
2025-11-12 05:50:30 [[32minfo[39m] Scheduled anomaly detection tasks
2025-11-12 05:50:30 [[32minfo[39m] AI-Powered Anomaly Detection Engine initialized successfully
2025-11-12 05:50:30 [[32minfo[39m] â‰¡Æ’Ã¶Ã¹ Initializing Log Correlation Engine...
2025-11-12 05:50:30 [[32minfo[39m] Î“Â£Ã  Log Correlation Engine initialized successfully
2025-11-12 05:50:30 [[32minfo[39m] â‰¡Æ’ÃœÃ‡ Initializing Performance Optimization Engine...
2025-11-12 05:50:30 [[32minfo[39m] Î“Â£Ã  Performance Optimization Engine initialized successfully
2025-11-12 05:50:30 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Initializing Advanced Dashboard Builder...
2025-11-12 05:50:30 [[32minfo[39m] Î“Â£Ã  Dashboard database tables verified
2025-11-12 05:50:30 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Loaded 0 dashboard(s)
2025-11-12 05:50:30 [[32minfo[39m] â‰¡Æ’Ã„Â¢âˆ©â••Ã… Loaded 0 widget(s)
2025-11-12 05:50:30 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Initialized 4 default widget templates
2025-11-12 05:50:30 [[32minfo[39m] Î“Â£Ã  Advanced Dashboard Builder initialized
2025-11-12 05:50:30 [[32minfo[39m]    Î“Ã‡Ã³ Widget Types: 12 available
2025-11-12 05:50:30 [[32minfo[39m]    Î“Ã‡Ã³ Drag & Drop: Enabled
2025-11-12 05:50:30 [[32minfo[39m]    Î“Ã‡Ã³ Real-time Updates: Active
2025-11-12 05:50:30 [[32minfo[39m]    Î“Ã‡Ã³ Custom Layouts: Supported
2025-11-12 05:50:30 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Initializing Distributed Tracing Engine...
2025-11-12 05:50:30 [[32minfo[39m]    Î“Ã‡Ã³ OpenTelemetry SDK: Active
2025-11-12 05:50:30 [[32minfo[39m]    Î“Ã‡Ã³ Jaeger Exporter: Configured
2025-11-12 05:50:30 [[32minfo[39m]    Î“Ã‡Ã³ Service Name:
2025-11-12 05:50:30 [[32minfo[39m]    Î“Ã‡Ã³ Sampling Rate:
2025-11-12 05:50:30 [[32minfo[39m]    Î“Ã‡Ã³ Trace Collection: Enabled
2025-11-12 05:50:30 [[32minfo[39m]    Î“Ã‡Ã³ Span Analysis: Ready
2025-11-12 05:50:30 [[32minfo[39m] Î“Â£Ã  Distributed Tracing Engine initialized successfully
2025-11-12 05:50:30 [[32minfo[39m] Î“Â£Ã  All system components initialized successfully
2025-11-12 05:50:30 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ System Summary:
2025-11-12 05:50:30 [[32minfo[39m]    Î“Ã‡Ã³ Database: SQLite with DAL optimization
2025-11-12 05:50:30 [[32minfo[39m]    Î“Ã‡Ã³ Engines: 9 enterprise engines loaded
2025-11-12 05:50:30 [[32minfo[39m]    Î“Ã‡Ã³ Integrations: WebSocket, MQTT, Multi-protocol
2025-11-12 05:50:30 [[32minfo[39m]    Î“Ã‡Ã³ Security: Rate limiting, JWT auth, audit logging
2025-11-12 05:50:30 [[32minfo[39m]    Î“Ã‡Ã³ Performance: Caching, streaming, optimization
2025-11-12 05:50:30 [[32minfo[39m] â‰¡Æ’Â¢Ãºâˆ©â••Ã… Setting up application routes...
2025-11-12 05:50:30 [[32minfo[39m] Î“Â£Ã  All routes configured successfully
  console.log
    Î“Â£Ã  Test suite completed successfully - timeout cleared

      at Object.log (tests/jest.setup.js:19:13)

PASS tests/rate-limit.test.js
  Auth rate limiting
    Î“ÃªÃœ many failed logins eventually rate-limited (1258 ms)

  console.log
    â‰¡Æ’Ã¶Âº Jest Setup Complete

      at Object.log (tests/jest.setup.js:46:9)

  console.log
    Î“Ã…â–’âˆ©â••Ã… Test Timeout: 30 seconds

      at Object.log (tests/jest.setup.js:47:9)

  console.log
    â‰¡Æ’Â¢Ã­âˆ©â••Ã… Safety Timeout: 25 seconds

      at Object.log (tests/jest.setup.js:48:9)

  console.log
    â‰¡Æ’ÃœÃ‡ Ready to test!

      at Object.log (tests/jest.setup.js:49:9)

  console.warn
    Î“ÃœÃ¡âˆ©â••Ã… Using ephemeral development JWT secret (DO NOT use in production). Set JWT_SECRET to override.

    [0m [90m 201 |[39m             [36mif[39m (allowFallback) {
     [90m 202 |[39m                 [36mconst[39m fallback [33m=[39m crypto[33m.[39mrandomBytes([35m32[39m)[33m.[39mtoString([32m'hex'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 203 |[39m                 console[33m.[39mwarn([32m'Î“ÃœÃ¡âˆ©â••Ã… Using ephemeral development JWT secret (DO NOT use in production). Set JWT_SECRET to override.'[39m)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 204 |[39m                 [36mreturn[39m fallback[33m;[39m
     [90m 205 |[39m             }
     [90m 206 |[39m             console[33m.[39merror([32m'â‰¡Æ’ÃœÂ¿ SECURITY WARNING: JWT_SECRET environment variable not set and no fallback allowed (production mode).'[39m)[33m;[39m[0m

      at warn (server.js:203:25)
      at Object.<anonymous> (server.js:209:10)
      at Object.require (tests/tracing.test.js:2:27)

2025-11-12 05:50:32 [[32minfo[39m] â‰¡Æ’Ã¶Âº Running database migration...
2025-11-12 05:50:32 [[32minfo[39m] Connected to database for migration
2025-11-12 05:50:32 [[32minfo[39m] â‰¡Æ’ÃœÃ‡ Starting database migration...
2025-11-12 05:50:32 [[32minfo[39m] Creating core system tables...
2025-11-12 05:50:32 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ activity_log existing columns: id, user_id, action, resource_type, resource_id, details, ip_address, user_agent, timestamp, created_at
2025-11-12 05:50:32 [[32minfo[39m] Î“Â£Ã  activity_log already has timestamp column
2025-11-12 05:50:32 [[32minfo[39m] Creating webhooks and integrations tables...
2025-11-12 05:50:32 [[32minfo[39m] Creating search and alerting tables...
2025-11-12 05:50:32 [[32minfo[39m] Creating enterprise engine tables...
2025-11-12 05:50:32 [[32minfo[39m] â‰¡Æ’Ã¶Ã¤ Creating Log File Analyzer tables...
2025-11-12 05:50:32 [[32minfo[39m] Creating database indexes for performance...
2025-11-12 05:50:32 [[32minfo[39m] Î“Â£Ã  Database indexes created
2025-11-12 05:50:32 [[32minfo[39m] Î“Â£Ã  Database migration completed successfully!
2025-11-12 05:50:32 [[32minfo[39m] Database connection closed
2025-11-12 05:50:32 [[32minfo[39m] Î“Â£Ã  Database migration completed successfully
2025-11-12 05:50:32 [[32minfo[39m] Î“Ã…â”‚ Ensuring database is fully ready...
  console.log
    
    â‰¡Æ’Ã¶Ã¬ Universal SQLite Adapter - Environment Detection

      at new log (universal-sqlite-adapter.js:32:17)

  console.log
    Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼

      at new log (universal-sqlite-adapter.js:33:17)

  console.log
    â‰¡Æ’Ã»Ã‘âˆ©â••Ã…  Platform: win32

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:58:17)

  console.log
    â‰¡Æ’Ã‰â”‚ Docker Environment: false

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:59:17)

  console.log
    â‰¡Æ’Ã…Ã¡ Node.js Version: v25.0.0

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:60:17)

  console.log
    Î“Â£Ã  Using sql.js (WebAssembly Compatibility)

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:74:25)

  console.log
    Î“ÃœÃ¡âˆ©â••Ã…  sql.js requires async init, falling back to sqlite3

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:115:29)

  console.log
    â‰¡Æ’ÃœÃ‡ Database initialized with sqlite3

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:126:21)

  console.log
    Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:127:21)

2025-11-12 05:50:32 [[32minfo[39m] Database initialized with sqlite3 (Legacy (Slowest - Callback-based))
2025-11-12 05:50:32 [[32minfo[39m] Î“Â£Ã  System settings loaded via DAL:
2025-11-12 05:50:32 [[32minfo[39m] Î“Â£Ã  Database Access Layer initialized successfully
2025-11-12 05:50:32 [[32minfo[39m] â‰¡Æ’Ã¶Âº Initializing system components...
2025-11-12 05:50:32 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Initializing Metrics Manager...
2025-11-12 05:50:32 [[32minfo[39m] Î“Â£Ã  Metrics Manager initialized
2025-11-12 05:50:32 [[32minfo[39m] â‰¡Æ’Ã¶Ã® Initializing integrations...
2025-11-12 05:50:32 [[32minfo[39m] Î“Â£Ã  All integrations initialized
2025-11-12 05:50:32 [[32minfo[39m] Î“Â£Ã  WebhookManager initialized
2025-11-12 05:50:32 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Database schema validated during migration - proceeding with engine initialization
2025-11-12 05:50:32 [[32minfo[39m] â‰¡Æ’ÃœÂ¿ Initializing Enhanced Real-time Alerting Engine...
2025-11-12 05:50:32 [[32minfo[39m] Î“Â£Ã  Admin user lookup successful
2025-11-12 05:50:32 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Loaded 4 alert rules from database
2025-11-12 05:50:32 [[32minfo[39m] No notification channels in database
2025-11-12 05:50:32 [[32minfo[39m] Î“Â£Ã  Enhanced Alerting Engine initialized successfully
2025-11-12 05:50:32 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Initializing Advanced Search Engine...
2025-11-12 05:50:32 [[32minfo[39m] Î“Â£Ã  Advanced Search Engine initialized successfully
2025-11-12 05:50:32 [[33mwarn[39m] Î“Ã…Â¡âˆ©â••Ã… Skipping Multi-Protocol Ingestion Engine initialization in test mode
2025-11-12 05:50:32 [[32minfo[39m] Î“Â£Ã  Retention schema created successfully
2025-11-12 05:50:32 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Loaded 2 retention policies
2025-11-12 05:50:32 [[32minfo[39m] â‰¡Æ’Ã´Ã  Scheduled retention tasks
2025-11-12 05:50:32 [[32minfo[39m] Î“Â£Ã  Data Retention Engine initialized successfully
2025-11-12 05:50:32 [[33mwarn[39m] Î“Ã…Â¡âˆ©â••Ã… Skipping Real-time Streaming Engine initialization in test mode
2025-11-12 05:50:32 [[32minfo[39m] Loaded 5 anomaly detection rules
2025-11-12 05:50:32 [[32minfo[39m] Loaded 0 baseline patterns
2025-11-12 05:50:32 [[32minfo[39m] Scheduled anomaly detection tasks
2025-11-12 05:50:32 [[32minfo[39m] AI-Powered Anomaly Detection Engine initialized successfully
2025-11-12 05:50:32 [[32minfo[39m] â‰¡Æ’Ã¶Ã¹ Initializing Log Correlation Engine...
2025-11-12 05:50:32 [[32minfo[39m] Î“Â£Ã  Log Correlation Engine initialized successfully
2025-11-12 05:50:32 [[32minfo[39m] â‰¡Æ’ÃœÃ‡ Initializing Performance Optimization Engine...
2025-11-12 05:50:32 [[32minfo[39m] Î“Â£Ã  Performance Optimization Engine initialized successfully
2025-11-12 05:50:33 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Initializing Advanced Dashboard Builder...
2025-11-12 05:50:33 [[32minfo[39m] Î“Â£Ã  Dashboard database tables verified
2025-11-12 05:50:33 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Loaded 0 dashboard(s)
2025-11-12 05:50:33 [[32minfo[39m] â‰¡Æ’Ã„Â¢âˆ©â••Ã… Loaded 0 widget(s)
2025-11-12 05:50:33 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Initialized 4 default widget templates
2025-11-12 05:50:33 [[32minfo[39m] Î“Â£Ã  Advanced Dashboard Builder initialized
2025-11-12 05:50:33 [[32minfo[39m]    Î“Ã‡Ã³ Widget Types: 12 available
2025-11-12 05:50:33 [[32minfo[39m]    Î“Ã‡Ã³ Drag & Drop: Enabled
2025-11-12 05:50:33 [[32minfo[39m]    Î“Ã‡Ã³ Real-time Updates: Active
2025-11-12 05:50:33 [[32minfo[39m]    Î“Ã‡Ã³ Custom Layouts: Supported
2025-11-12 05:50:33 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Initializing Distributed Tracing Engine...
2025-11-12 05:50:33 [[32minfo[39m]    Î“Ã‡Ã³ OpenTelemetry SDK: Active
2025-11-12 05:50:33 [[32minfo[39m]    Î“Ã‡Ã³ Jaeger Exporter: Configured
2025-11-12 05:50:33 [[32minfo[39m]    Î“Ã‡Ã³ Service Name:
2025-11-12 05:50:33 [[32minfo[39m]    Î“Ã‡Ã³ Sampling Rate:
2025-11-12 05:50:33 [[32minfo[39m]    Î“Ã‡Ã³ Trace Collection: Enabled
2025-11-12 05:50:33 [[32minfo[39m]    Î“Ã‡Ã³ Span Analysis: Ready
2025-11-12 05:50:33 [[32minfo[39m] Î“Â£Ã  Distributed Tracing Engine initialized successfully
2025-11-12 05:50:33 [[32minfo[39m] Î“Â£Ã  All system components initialized successfully
2025-11-12 05:50:33 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ System Summary:
2025-11-12 05:50:33 [[32minfo[39m]    Î“Ã‡Ã³ Database: SQLite with DAL optimization
2025-11-12 05:50:33 [[32minfo[39m]    Î“Ã‡Ã³ Engines: 9 enterprise engines loaded
2025-11-12 05:50:33 [[32minfo[39m]    Î“Ã‡Ã³ Integrations: WebSocket, MQTT, Multi-protocol
2025-11-12 05:50:33 [[32minfo[39m]    Î“Ã‡Ã³ Security: Rate limiting, JWT auth, audit logging
2025-11-12 05:50:33 [[32minfo[39m]    Î“Ã‡Ã³ Performance: Caching, streaming, optimization
2025-11-12 05:50:33 [[32minfo[39m] â‰¡Æ’Â¢Ãºâˆ©â••Ã… Setting up application routes...
2025-11-12 05:50:33 [[32minfo[39m] Î“Â£Ã  All routes configured successfully
  console.error
    Error getting tracing status: Error: Test error
        at statusHandler (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\routes\api\tracing.js:9:19)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:284:15
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at router.handle (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:175:3)
        at router (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:831:13)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\middleware\request-metrics.js:53:9)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:658:5)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:659:7
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:576:5

    [0m [90m 30 |[39m         res[33m.[39mjson({ success[33m:[39m [36mtrue[39m[33m,[39m status })[33m;[39m
     [90m 31 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 32 |[39m         console[33m.[39merror([32m'Error getting tracing status:'[39m[33m,[39m error)[33m;[39m
     [90m    |[39m                 [31m[1m^[22m[39m
     [90m 33 |[39m         res[33m.[39mstatus([35m500[39m)[33m.[39mjson({ success[33m:[39m [36mfalse[39m[33m,[39m error[33m:[39m error[33m.[39mmessage })[33m;[39m
     [90m 34 |[39m     }
     [90m 35 |[39m }[33m;[39m[0m

      at error (routes/api/tracing.js:32:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:831:13)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (middleware/request-metrics.js:53:9)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:658:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/express-rate-limit/dist/index.cjs:659:7
      at node_modules/express-rate-limit/dist/index.cjs:576:5

  console.error
    Error getting dependencies: Error: Test error
        at dependenciesHandler (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\routes\api\tracing.js:43:19)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:284:15
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at router.handle (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:175:3)
        at router (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:831:13)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\middleware\request-metrics.js:53:9)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:658:5)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:659:7
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:576:5

    [0m [90m  96 |[39m         res[33m.[39mjson({ success[33m:[39m [36mtrue[39m[33m,[39m dependencies })[33m;[39m
     [90m  97 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m  98 |[39m         console[33m.[39merror([32m'Error getting dependencies:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m  99 |[39m         res[33m.[39mstatus([35m500[39m)[33m.[39mjson({ success[33m:[39m [36mfalse[39m[33m,[39m error[33m:[39m error[33m.[39mmessage })[33m;[39m
     [90m 100 |[39m     }
     [90m 101 |[39m }[33m;[39m[0m

      at error (routes/api/tracing.js:98:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:831:13)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (middleware/request-metrics.js:53:9)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:658:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/express-rate-limit/dist/index.cjs:659:7
      at node_modules/express-rate-limit/dist/index.cjs:576:5

  console.error
    Error searching traces: Error: Test error
        at searchHandler (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\routes\api\tracing.js:109:19)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:284:15
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at router.handle (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:175:3)
        at router (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:831:13)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\middleware\request-metrics.js:53:9)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:658:5)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:659:7
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:576:5

    [0m [90m 143 |[39m         })[33m;[39m
     [90m 144 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 145 |[39m         console[33m.[39merror([32m'Error searching traces:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 146 |[39m         res[33m.[39mstatus([35m500[39m)[33m.[39mjson({ success[33m:[39m [36mfalse[39m[33m,[39m error[33m:[39m error[33m.[39mmessage })[33m;[39m
     [90m 147 |[39m     }
     [90m 148 |[39m }[33m;[39m[0m

      at error (routes/api/tracing.js:145:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:831:13)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (middleware/request-metrics.js:53:9)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:658:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/express-rate-limit/dist/index.cjs:659:7
      at node_modules/express-rate-limit/dist/index.cjs:576:5

  console.error
    Error getting trace detail: Error: Test error
        at traceHandler (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\routes\api\tracing.js:156:19)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:149:13)
        at Route.dispatch (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\route.js:119:3)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:284:15
        at param (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:365:14)
        at param (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:376:14)
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:421:3)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at router.handle (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:175:3)
        at router (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:47:12)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:831:13)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\middleware\request-metrics.js:53:9)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\server.js:658:5)
        at Layer.handle [as handle_request] (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\layer.js:95:5)
        at trim_prefix (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:328:13)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:286:9
        at router.process_params (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:346:12)
        at next (C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express\lib\router\index.js:280:10)
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:659:7
        at C:\Users\Tom Nelson\Documents\Visual_Studio_Code\Node-Red-Home-Assistant\logging-server\node_modules\express-rate-limit\dist\index.cjs:576:5

    [0m [90m 218 |[39m         res[33m.[39mjson({ success[33m:[39m [36mtrue[39m[33m,[39m trace })[33m;[39m
     [90m 219 |[39m     } [36mcatch[39m (error) {
    [31m[1m>[22m[39m[90m 220 |[39m         console[33m.[39merror([32m'Error getting trace detail:'[39m[33m,[39m error)[33m;[39m
     [90m     |[39m                 [31m[1m^[22m[39m
     [90m 221 |[39m         res[33m.[39mstatus([35m500[39m)[33m.[39mjson({ success[33m:[39m [36mfalse[39m[33m,[39m error[33m:[39m error[33m.[39mmessage })[33m;[39m
     [90m 222 |[39m     }
     [90m 223 |[39m }[33m;[39m[0m

      at error (routes/api/tracing.js:220:17)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at next (node_modules/express/lib/router/route.js:149:13)
      at Route.dispatch (node_modules/express/lib/router/route.js:119:3)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at node_modules/express/lib/router/index.js:284:15
      at param (node_modules/express/lib/router/index.js:365:14)
      at param (node_modules/express/lib/router/index.js:376:14)
      at router.process_params (node_modules/express/lib/router/index.js:421:3)
      at next (node_modules/express/lib/router/index.js:280:10)
      at router.handle (node_modules/express/lib/router/index.js:175:3)
      at router (node_modules/express/lib/router/index.js:47:12)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:831:13)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (middleware/request-metrics.js:53:9)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at next (server.js:658:5)
      at Layer.handle [as handle_request] (node_modules/express/lib/router/layer.js:95:5)
      at trim_prefix (node_modules/express/lib/router/index.js:328:13)
      at node_modules/express/lib/router/index.js:286:9
      at router.process_params (node_modules/express/lib/router/index.js:346:12)
      at next (node_modules/express/lib/router/index.js:280:10)
      at node_modules/express-rate-limit/dist/index.cjs:659:7
      at node_modules/express-rate-limit/dist/index.cjs:576:5

  console.log
    Î“Â£Ã  Test suite completed successfully - timeout cleared

      at Object.log (tests/jest.setup.js:19:13)

PASS tests/tracing.test.js
  Tracing API
    Î“ÃªÃœ status endpoint shape (21 ms)
    Î“ÃªÃœ dependencies endpoint provides graph (19 ms)
    Î“ÃªÃœ search endpoint returns traces (18 ms)
    Î“ÃªÃœ trace detail endpoint returns payload (22 ms)
    Î“ÃªÃœ status endpoint handles errors gracefully (53 ms)
    Î“ÃªÃœ dependencies endpoint handles errors gracefully (22 ms)
    Î“ÃªÃœ search endpoint handles errors gracefully (21 ms)
    Î“ÃªÃœ trace detail endpoint handles errors gracefully (21 ms)

  console.log
    â‰¡Æ’Ã¶Âº Jest Setup Complete

      at Object.log (tests/jest.setup.js:46:9)

  console.log
    Î“Ã…â–’âˆ©â••Ã… Test Timeout: 30 seconds

      at Object.log (tests/jest.setup.js:47:9)

  console.log
    â‰¡Æ’Â¢Ã­âˆ©â••Ã… Safety Timeout: 25 seconds

      at Object.log (tests/jest.setup.js:48:9)

  console.log
    â‰¡Æ’ÃœÃ‡ Ready to test!

      at Object.log (tests/jest.setup.js:49:9)

  console.warn
    Î“ÃœÃ¡âˆ©â••Ã… Using ephemeral development JWT secret (DO NOT use in production). Set JWT_SECRET to override.

    [0m [90m 201 |[39m             [36mif[39m (allowFallback) {
     [90m 202 |[39m                 [36mconst[39m fallback [33m=[39m crypto[33m.[39mrandomBytes([35m32[39m)[33m.[39mtoString([32m'hex'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 203 |[39m                 console[33m.[39mwarn([32m'Î“ÃœÃ¡âˆ©â••Ã… Using ephemeral development JWT secret (DO NOT use in production). Set JWT_SECRET to override.'[39m)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 204 |[39m                 [36mreturn[39m fallback[33m;[39m
     [90m 205 |[39m             }
     [90m 206 |[39m             console[33m.[39merror([32m'â‰¡Æ’ÃœÂ¿ SECURITY WARNING: JWT_SECRET environment variable not set and no fallback allowed (production mode).'[39m)[33m;[39m[0m

      at warn (server.js:203:25)
      at Object.<anonymous> (server.js:209:10)
      at Object.require (tests/ingestion.test.js:2:27)

2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’Ã¶Âº Running database migration...
2025-11-12 05:50:34 [[32minfo[39m] Connected to database for migration
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’ÃœÃ‡ Starting database migration...
2025-11-12 05:50:34 [[32minfo[39m] Creating core system tables...
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ activity_log existing columns: id, user_id, action, resource_type, resource_id, details, ip_address, user_agent, timestamp, created_at
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  activity_log already has timestamp column
2025-11-12 05:50:34 [[32minfo[39m] Creating webhooks and integrations tables...
2025-11-12 05:50:34 [[32minfo[39m] Creating search and alerting tables...
2025-11-12 05:50:34 [[32minfo[39m] Creating enterprise engine tables...
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’Ã¶Ã¤ Creating Log File Analyzer tables...
2025-11-12 05:50:34 [[32minfo[39m] Creating database indexes for performance...
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  Database indexes created
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  Database migration completed successfully!
2025-11-12 05:50:34 [[32minfo[39m] Database connection closed
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  Database migration completed successfully
2025-11-12 05:50:34 [[32minfo[39m] Î“Ã…â”‚ Ensuring database is fully ready...
  console.log
    
    â‰¡Æ’Ã¶Ã¬ Universal SQLite Adapter - Environment Detection

      at new log (universal-sqlite-adapter.js:32:17)

  console.log
    Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼

      at new log (universal-sqlite-adapter.js:33:17)

  console.log
    â‰¡Æ’Ã»Ã‘âˆ©â••Ã…  Platform: win32

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:58:17)

  console.log
    â‰¡Æ’Ã‰â”‚ Docker Environment: false

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:59:17)

  console.log
    â‰¡Æ’Ã…Ã¡ Node.js Version: v25.0.0

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:60:17)

  console.log
    Î“Â£Ã  Using sql.js (WebAssembly Compatibility)

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:74:25)

  console.log
    Î“ÃœÃ¡âˆ©â••Ã…  sql.js requires async init, falling back to sqlite3

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:115:29)

  console.log
    â‰¡Æ’ÃœÃ‡ Database initialized with sqlite3

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:126:21)

  console.log
    Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:127:21)

2025-11-12 05:50:34 [[32minfo[39m] Database initialized with sqlite3 (Legacy (Slowest - Callback-based))
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  System settings loaded via DAL:
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  Database Access Layer initialized successfully
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’Ã¶Âº Initializing system components...
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Initializing Metrics Manager...
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  Metrics Manager initialized
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’Ã¶Ã® Initializing integrations...
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  All integrations initialized
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  WebhookManager initialized
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Database schema validated during migration - proceeding with engine initialization
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’ÃœÂ¿ Initializing Enhanced Real-time Alerting Engine...
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  Admin user lookup successful
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Loaded 4 alert rules from database
2025-11-12 05:50:34 [[32minfo[39m] No notification channels in database
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  Enhanced Alerting Engine initialized successfully
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Initializing Advanced Search Engine...
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  Advanced Search Engine initialized successfully
2025-11-12 05:50:34 [[33mwarn[39m] Î“Ã…Â¡âˆ©â••Ã… Skipping Multi-Protocol Ingestion Engine initialization in test mode
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  Retention schema created successfully
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Loaded 2 retention policies
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’Ã´Ã  Scheduled retention tasks
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  Data Retention Engine initialized successfully
2025-11-12 05:50:34 [[33mwarn[39m] Î“Ã…Â¡âˆ©â••Ã… Skipping Real-time Streaming Engine initialization in test mode
2025-11-12 05:50:34 [[32minfo[39m] Loaded 5 anomaly detection rules
2025-11-12 05:50:34 [[32minfo[39m] Loaded 0 baseline patterns
2025-11-12 05:50:34 [[32minfo[39m] Scheduled anomaly detection tasks
2025-11-12 05:50:34 [[32minfo[39m] AI-Powered Anomaly Detection Engine initialized successfully
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’Ã¶Ã¹ Initializing Log Correlation Engine...
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  Log Correlation Engine initialized successfully
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’ÃœÃ‡ Initializing Performance Optimization Engine...
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  Performance Optimization Engine initialized successfully
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Initializing Advanced Dashboard Builder...
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  Dashboard database tables verified
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Loaded 0 dashboard(s)
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’Ã„Â¢âˆ©â••Ã… Loaded 0 widget(s)
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Initialized 4 default widget templates
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  Advanced Dashboard Builder initialized
2025-11-12 05:50:34 [[32minfo[39m]    Î“Ã‡Ã³ Widget Types: 12 available
2025-11-12 05:50:34 [[32minfo[39m]    Î“Ã‡Ã³ Drag & Drop: Enabled
2025-11-12 05:50:34 [[32minfo[39m]    Î“Ã‡Ã³ Real-time Updates: Active
2025-11-12 05:50:34 [[32minfo[39m]    Î“Ã‡Ã³ Custom Layouts: Supported
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Initializing Distributed Tracing Engine...
2025-11-12 05:50:34 [[32minfo[39m]    Î“Ã‡Ã³ OpenTelemetry SDK: Active
2025-11-12 05:50:34 [[32minfo[39m]    Î“Ã‡Ã³ Jaeger Exporter: Configured
2025-11-12 05:50:34 [[32minfo[39m]    Î“Ã‡Ã³ Service Name:
2025-11-12 05:50:34 [[32minfo[39m]    Î“Ã‡Ã³ Sampling Rate:
2025-11-12 05:50:34 [[32minfo[39m]    Î“Ã‡Ã³ Trace Collection: Enabled
2025-11-12 05:50:34 [[32minfo[39m]    Î“Ã‡Ã³ Span Analysis: Ready
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  Distributed Tracing Engine initialized successfully
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  All system components initialized successfully
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ System Summary:
2025-11-12 05:50:34 [[32minfo[39m]    Î“Ã‡Ã³ Database: SQLite with DAL optimization
2025-11-12 05:50:34 [[32minfo[39m]    Î“Ã‡Ã³ Engines: 9 enterprise engines loaded
2025-11-12 05:50:34 [[32minfo[39m]    Î“Ã‡Ã³ Integrations: WebSocket, MQTT, Multi-protocol
2025-11-12 05:50:34 [[32minfo[39m]    Î“Ã‡Ã³ Security: Rate limiting, JWT auth, audit logging
2025-11-12 05:50:34 [[32minfo[39m]    Î“Ã‡Ã³ Performance: Caching, streaming, optimization
2025-11-12 05:50:34 [[32minfo[39m] â‰¡Æ’Â¢Ãºâˆ©â••Ã… Setting up application routes...
2025-11-12 05:50:34 [[32minfo[39m] Î“Â£Ã  All routes configured successfully
  console.log
    Î“Â£Ã  Test suite completed successfully - timeout cleared

      at Object.log (tests/jest.setup.js:19:13)

PASS tests/ingestion.test.js
  Ingestion parse & stats
    Î“ÃªÃœ parse syslog message (fallback ok) (34 ms)
    Î“ÃªÃœ parse invalid json fails validation (20 ms)
    Î“ÃªÃœ ingestion stats shape (23 ms)

  console.log
    â‰¡Æ’Ã¶Âº Jest Setup Complete

      at Object.log (tests/jest.setup.js:46:9)

  console.log
    Î“Ã…â–’âˆ©â••Ã… Test Timeout: 30 seconds

      at Object.log (tests/jest.setup.js:47:9)

  console.log
    â‰¡Æ’Â¢Ã­âˆ©â••Ã… Safety Timeout: 25 seconds

      at Object.log (tests/jest.setup.js:48:9)

  console.log
    â‰¡Æ’ÃœÃ‡ Ready to test!

      at Object.log (tests/jest.setup.js:49:9)

  console.warn
    Î“ÃœÃ¡âˆ©â••Ã… Using ephemeral development JWT secret (DO NOT use in production). Set JWT_SECRET to override.

    [0m [90m 201 |[39m             [36mif[39m (allowFallback) {
     [90m 202 |[39m                 [36mconst[39m fallback [33m=[39m crypto[33m.[39mrandomBytes([35m32[39m)[33m.[39mtoString([32m'hex'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 203 |[39m                 console[33m.[39mwarn([32m'Î“ÃœÃ¡âˆ©â••Ã… Using ephemeral development JWT secret (DO NOT use in production). Set JWT_SECRET to override.'[39m)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 204 |[39m                 [36mreturn[39m fallback[33m;[39m
     [90m 205 |[39m             }
     [90m 206 |[39m             console[33m.[39merror([32m'â‰¡Æ’ÃœÂ¿ SECURITY WARNING: JWT_SECRET environment variable not set and no fallback allowed (production mode).'[39m)[33m;[39m[0m

      at warn (server.js:203:25)
      at Object.<anonymous> (server.js:209:10)
      at Object.require (tests/request-metrics.test.js:2:27)

2025-11-12 05:50:35 [[32minfo[39m] â‰¡Æ’Ã¶Âº Running database migration...
2025-11-12 05:50:36 [[32minfo[39m] Connected to database for migration
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’ÃœÃ‡ Starting database migration...
2025-11-12 05:50:36 [[32minfo[39m] Creating core system tables...
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ activity_log existing columns: id, user_id, action, resource_type, resource_id, details, ip_address, user_agent, timestamp, created_at
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  activity_log already has timestamp column
2025-11-12 05:50:36 [[32minfo[39m] Creating webhooks and integrations tables...
2025-11-12 05:50:36 [[32minfo[39m] Creating search and alerting tables...
2025-11-12 05:50:36 [[32minfo[39m] Creating enterprise engine tables...
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’Ã¶Ã¤ Creating Log File Analyzer tables...
2025-11-12 05:50:36 [[32minfo[39m] Creating database indexes for performance...
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  Database indexes created
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  Database migration completed successfully!
2025-11-12 05:50:36 [[32minfo[39m] Database connection closed
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  Database migration completed successfully
2025-11-12 05:50:36 [[32minfo[39m] Î“Ã…â”‚ Ensuring database is fully ready...
  console.log
    
    â‰¡Æ’Ã¶Ã¬ Universal SQLite Adapter - Environment Detection

      at new log (universal-sqlite-adapter.js:32:17)

  console.log
    Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼

      at new log (universal-sqlite-adapter.js:33:17)

  console.log
    â‰¡Æ’Ã»Ã‘âˆ©â••Ã…  Platform: win32

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:58:17)

  console.log
    â‰¡Æ’Ã‰â”‚ Docker Environment: false

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:59:17)

  console.log
    â‰¡Æ’Ã…Ã¡ Node.js Version: v25.0.0

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:60:17)

  console.log
    Î“Â£Ã  Using sql.js (WebAssembly Compatibility)

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:74:25)

  console.log
    Î“ÃœÃ¡âˆ©â••Ã…  sql.js requires async init, falling back to sqlite3

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:115:29)

  console.log
    â‰¡Æ’ÃœÃ‡ Database initialized with sqlite3

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:126:21)

  console.log
    Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:127:21)

2025-11-12 05:50:36 [[32minfo[39m] Database initialized with sqlite3 (Legacy (Slowest - Callback-based))
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  System settings loaded via DAL:
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  Database Access Layer initialized successfully
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’Ã¶Âº Initializing system components...
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Initializing Metrics Manager...
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  Metrics Manager initialized
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’Ã¶Ã® Initializing integrations...
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  All integrations initialized
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  WebhookManager initialized
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Database schema validated during migration - proceeding with engine initialization
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’ÃœÂ¿ Initializing Enhanced Real-time Alerting Engine...
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  Admin user lookup successful
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Loaded 4 alert rules from database
2025-11-12 05:50:36 [[32minfo[39m] No notification channels in database
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  Enhanced Alerting Engine initialized successfully
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Initializing Advanced Search Engine...
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  Advanced Search Engine initialized successfully
2025-11-12 05:50:36 [[33mwarn[39m] Î“Ã…Â¡âˆ©â••Ã… Skipping Multi-Protocol Ingestion Engine initialization in test mode
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  Retention schema created successfully
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Loaded 2 retention policies
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’Ã´Ã  Scheduled retention tasks
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  Data Retention Engine initialized successfully
2025-11-12 05:50:36 [[33mwarn[39m] Î“Ã…Â¡âˆ©â••Ã… Skipping Real-time Streaming Engine initialization in test mode
2025-11-12 05:50:36 [[32minfo[39m] Loaded 5 anomaly detection rules
2025-11-12 05:50:36 [[32minfo[39m] Loaded 0 baseline patterns
2025-11-12 05:50:36 [[32minfo[39m] Scheduled anomaly detection tasks
2025-11-12 05:50:36 [[32minfo[39m] AI-Powered Anomaly Detection Engine initialized successfully
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’Ã¶Ã¹ Initializing Log Correlation Engine...
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  Log Correlation Engine initialized successfully
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’ÃœÃ‡ Initializing Performance Optimization Engine...
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  Performance Optimization Engine initialized successfully
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Initializing Advanced Dashboard Builder...
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  Dashboard database tables verified
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Loaded 0 dashboard(s)
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’Ã„Â¢âˆ©â••Ã… Loaded 0 widget(s)
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Initialized 4 default widget templates
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  Advanced Dashboard Builder initialized
2025-11-12 05:50:36 [[32minfo[39m]    Î“Ã‡Ã³ Widget Types: 12 available
2025-11-12 05:50:36 [[32minfo[39m]    Î“Ã‡Ã³ Drag & Drop: Enabled
2025-11-12 05:50:36 [[32minfo[39m]    Î“Ã‡Ã³ Real-time Updates: Active
2025-11-12 05:50:36 [[32minfo[39m]    Î“Ã‡Ã³ Custom Layouts: Supported
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Initializing Distributed Tracing Engine...
2025-11-12 05:50:36 [[32minfo[39m]    Î“Ã‡Ã³ OpenTelemetry SDK: Active
2025-11-12 05:50:36 [[32minfo[39m]    Î“Ã‡Ã³ Jaeger Exporter: Configured
2025-11-12 05:50:36 [[32minfo[39m]    Î“Ã‡Ã³ Service Name:
2025-11-12 05:50:36 [[32minfo[39m]    Î“Ã‡Ã³ Sampling Rate:
2025-11-12 05:50:36 [[32minfo[39m]    Î“Ã‡Ã³ Trace Collection: Enabled
2025-11-12 05:50:36 [[32minfo[39m]    Î“Ã‡Ã³ Span Analysis: Ready
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  Distributed Tracing Engine initialized successfully
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  All system components initialized successfully
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ System Summary:
2025-11-12 05:50:36 [[32minfo[39m]    Î“Ã‡Ã³ Database: SQLite with DAL optimization
2025-11-12 05:50:36 [[32minfo[39m]    Î“Ã‡Ã³ Engines: 9 enterprise engines loaded
2025-11-12 05:50:36 [[32minfo[39m]    Î“Ã‡Ã³ Integrations: WebSocket, MQTT, Multi-protocol
2025-11-12 05:50:36 [[32minfo[39m]    Î“Ã‡Ã³ Security: Rate limiting, JWT auth, audit logging
2025-11-12 05:50:36 [[32minfo[39m]    Î“Ã‡Ã³ Performance: Caching, streaming, optimization
2025-11-12 05:50:36 [[32minfo[39m] â‰¡Æ’Â¢Ãºâˆ©â••Ã… Setting up application routes...
2025-11-12 05:50:36 [[32minfo[39m] Î“Â£Ã  All routes configured successfully
  console.log
    Î“Â£Ã  Test suite completed successfully - timeout cleared

      at Object.log (tests/jest.setup.js:19:13)

PASS tests/request-metrics.test.js
  Request Metrics Middleware
    Î“ÃªÃœ tracks API requests (20 ms)
    Î“ÃªÃœ skips non-API requests (12 ms)
    Î“ÃªÃœ handles database errors gracefully (27 ms)

  console.log
    â‰¡Æ’Ã¶Âº Jest Setup Complete

      at Object.log (tests/jest.setup.js:46:9)

  console.log
    Î“Ã…â–’âˆ©â••Ã… Test Timeout: 30 seconds

      at Object.log (tests/jest.setup.js:47:9)

  console.log
    â‰¡Æ’Â¢Ã­âˆ©â••Ã… Safety Timeout: 25 seconds

      at Object.log (tests/jest.setup.js:48:9)

  console.log
    â‰¡Æ’ÃœÃ‡ Ready to test!

      at Object.log (tests/jest.setup.js:49:9)

  console.warn
    Î“ÃœÃ¡âˆ©â••Ã… Using ephemeral development JWT secret (DO NOT use in production). Set JWT_SECRET to override.

    [0m [90m 201 |[39m             [36mif[39m (allowFallback) {
     [90m 202 |[39m                 [36mconst[39m fallback [33m=[39m crypto[33m.[39mrandomBytes([35m32[39m)[33m.[39mtoString([32m'hex'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 203 |[39m                 console[33m.[39mwarn([32m'Î“ÃœÃ¡âˆ©â••Ã… Using ephemeral development JWT secret (DO NOT use in production). Set JWT_SECRET to override.'[39m)[33m;[39m
     [90m     |[39m                         [31m[1m^[22m[39m
     [90m 204 |[39m                 [36mreturn[39m fallback[33m;[39m
     [90m 205 |[39m             }
     [90m 206 |[39m             console[33m.[39merror([32m'â‰¡Æ’ÃœÂ¿ SECURITY WARNING: JWT_SECRET environment variable not set and no fallback allowed (production mode).'[39m)[33m;[39m[0m

      at warn (server.js:203:25)
      at Object.<anonymous> (server.js:209:10)
      at Object.require (tests/middleware-order.test.js:2:27)

2025-11-12 05:50:37 [[32minfo[39m] â‰¡Æ’Ã¶Âº Running database migration...
2025-11-12 05:50:37 [[32minfo[39m] Connected to database for migration
2025-11-12 05:50:37 [[32minfo[39m] â‰¡Æ’ÃœÃ‡ Starting database migration...
2025-11-12 05:50:37 [[32minfo[39m] Creating core system tables...
2025-11-12 05:50:37 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ activity_log existing columns: id, user_id, action, resource_type, resource_id, details, ip_address, user_agent, timestamp, created_at
2025-11-12 05:50:37 [[32minfo[39m] Î“Â£Ã  activity_log already has timestamp column
2025-11-12 05:50:37 [[32minfo[39m] Creating webhooks and integrations tables...
2025-11-12 05:50:37 [[32minfo[39m] Creating search and alerting tables...
2025-11-12 05:50:37 [[32minfo[39m] Creating enterprise engine tables...
2025-11-12 05:50:37 [[32minfo[39m] â‰¡Æ’Ã¶Ã¤ Creating Log File Analyzer tables...
2025-11-12 05:50:37 [[32minfo[39m] Creating database indexes for performance...
2025-11-12 05:50:37 [[32minfo[39m] Î“Â£Ã  Database indexes created
2025-11-12 05:50:37 [[32minfo[39m] Î“Â£Ã  Database migration completed successfully!
2025-11-12 05:50:37 [[32minfo[39m] Database connection closed
2025-11-12 05:50:37 [[32minfo[39m] Î“Â£Ã  Database migration completed successfully
2025-11-12 05:50:37 [[32minfo[39m] Î“Ã…â”‚ Ensuring database is fully ready...
  console.log
    
    â‰¡Æ’Ã¶Ã¬ Universal SQLite Adapter - Environment Detection

      at new log (universal-sqlite-adapter.js:32:17)

  console.log
    Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼

      at new log (universal-sqlite-adapter.js:33:17)

  console.log
    â‰¡Æ’Ã»Ã‘âˆ©â••Ã…  Platform: win32

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:58:17)

  console.log
    â‰¡Æ’Ã‰â”‚ Docker Environment: false

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:59:17)

  console.log
    â‰¡Æ’Ã…Ã¡ Node.js Version: v25.0.0

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:60:17)

  console.log
    Î“Â£Ã  Using sql.js (WebAssembly Compatibility)

      at UniversalSQLiteAdapter.log [as detectBestDriver] (universal-sqlite-adapter.js:74:25)

  console.log
    Î“ÃœÃ¡âˆ©â••Ã…  sql.js requires async init, falling back to sqlite3

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:115:29)

  console.log
    â‰¡Æ’ÃœÃ‡ Database initialized with sqlite3

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:126:21)

  console.log
    Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼Î“Ã¶Ã¼

      at UniversalSQLiteAdapter.log [as initializeDatabase] (universal-sqlite-adapter.js:127:21)

2025-11-12 05:50:38 [[32minfo[39m] Database initialized with sqlite3 (Legacy (Slowest - Callback-based))
2025-11-12 05:50:38 [[32minfo[39m] Î“Â£Ã  System settings loaded via DAL:
2025-11-12 05:50:38 [[32minfo[39m] Î“Â£Ã  Database Access Layer initialized successfully
2025-11-12 05:50:38 [[32minfo[39m] â‰¡Æ’Ã¶Âº Initializing system components...
2025-11-12 05:50:38 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Initializing Metrics Manager...
2025-11-12 05:50:38 [[32minfo[39m] Î“Â£Ã  Metrics Manager initialized
2025-11-12 05:50:38 [[32minfo[39m] â‰¡Æ’Ã¶Ã® Initializing integrations...
2025-11-12 05:50:38 [[32minfo[39m] Î“Â£Ã  All integrations initialized
2025-11-12 05:50:38 [[32minfo[39m] Î“Â£Ã  WebhookManager initialized
2025-11-12 05:50:38 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Database schema validated during migration - proceeding with engine initialization
2025-11-12 05:50:38 [[32minfo[39m] â‰¡Æ’ÃœÂ¿ Initializing Enhanced Real-time Alerting Engine...
2025-11-12 05:50:38 [[32minfo[39m] Î“Â£Ã  Admin user lookup successful
2025-11-12 05:50:38 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Loaded 4 alert rules from database
2025-11-12 05:50:38 [[32minfo[39m] No notification channels in database
2025-11-12 05:50:38 [[32minfo[39m] Î“Â£Ã  Enhanced Alerting Engine initialized successfully
2025-11-12 05:50:38 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Initializing Advanced Search Engine...
2025-11-12 05:50:38 [[32minfo[39m] Î“Â£Ã  Advanced Search Engine initialized successfully
2025-11-12 05:50:38 [[33mwarn[39m] Î“Ã…Â¡âˆ©â••Ã… Skipping Multi-Protocol Ingestion Engine initialization in test mode
2025-11-12 05:50:38 [[32minfo[39m] Î“Â£Ã  Retention schema created successfully
2025-11-12 05:50:38 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Loaded 2 retention policies
2025-11-12 05:50:38 [[32minfo[39m] â‰¡Æ’Ã´Ã  Scheduled retention tasks
2025-11-12 05:50:38 [[32minfo[39m] Î“Â£Ã  Data Retention Engine initialized successfully
2025-11-12 05:50:38 [[33mwarn[39m] Î“Ã…Â¡âˆ©â••Ã… Skipping Real-time Streaming Engine initialization in test mode
2025-11-12 05:50:38 [[32minfo[39m] Loaded 5 anomaly detection rules
2025-11-12 05:50:38 [[32minfo[39m] Loaded 0 baseline patterns
2025-11-12 05:50:38 [[32minfo[39m] Scheduled anomaly detection tasks
2025-11-12 05:50:38 [[32minfo[39m] AI-Powered Anomaly Detection Engine initialized successfully
2025-11-12 05:50:38 [[32minfo[39m] â‰¡Æ’Ã¶Ã¹ Initializing Log Correlation Engine...
2025-11-12 05:50:38 [[32minfo[39m] Î“Â£Ã  Log Correlation Engine initialized successfully
2025-11-12 05:50:38 [[32minfo[39m] â‰¡Æ’ÃœÃ‡ Initializing Performance Optimization Engine...
2025-11-12 05:50:38 [[32minfo[39m] Î“Â£Ã  Performance Optimization Engine initialized successfully
2025-11-12 05:50:38 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Initializing Advanced Dashboard Builder...
2025-11-12 05:50:38 [[32minfo[39m] Î“Â£Ã  Dashboard database tables verified
2025-11-12 05:50:38 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ Loaded 0 dashboard(s)
2025-11-12 05:50:38 [[32minfo[39m] â‰¡Æ’Ã„Â¢âˆ©â••Ã… Loaded 0 widget(s)
2025-11-12 05:50:38 [[32minfo[39m] â‰¡Æ’Ã´Ã¯ Initialized 4 default widget templates
2025-11-12 05:50:38 [[32minfo[39m] Î“Â£Ã  Advanced Dashboard Builder initialized
2025-11-12 05:50:38 [[32minfo[39m]    Î“Ã‡Ã³ Widget Types: 12 available
2025-11-12 05:50:38 [[32minfo[39m]    Î“Ã‡Ã³ Drag & Drop: Enabled
2025-11-12 05:50:38 [[32minfo[39m]    Î“Ã‡Ã³ Real-time Updates: Active
2025-11-12 05:50:38 [[32minfo[39m]    Î“Ã‡Ã³ Custom Layouts: Supported
2025-11-12 05:50:38 [[32minfo[39m] â‰¡Æ’Ã¶Ã¬ Initializing Distributed Tracing Engine...
2025-11-12 05:50:38 [[32minfo[39m]    Î“Ã‡Ã³ OpenTelemetry SDK: Active
2025-11-12 05:50:38 [[32minfo[39m]    Î“Ã‡Ã³ Jaeger Exporter: Configured
2025-11-12 05:50:38 [[32minfo[39m]    Î“Ã‡Ã³ Service Name:
2025-11-12 05:50:38 [[32minfo[39m]    Î“Ã‡Ã³ Sampling Rate:
2025-11-12 05:50:38 [[32minfo[39m]    Î“Ã‡Ã³ Trace Collection: Enabled
2025-11-12 05:50:38 [[32minfo[39m]    Î“Ã‡Ã³ Span Analysis: Ready
2025-11-12 05:50:38 [[32minfo[39m] Î“Â£Ã  Distributed Tracing Engine initialized successfully
2025-11-12 05:50:38 [[32minfo[39m] Î“Â£Ã  All system components initialized successfully
2025-11-12 05:50:38 [[32minfo[39m] â‰¡Æ’Ã´Ã¨ System Summary:
2025-11-12 05:50:38 [[32minfo[39m]    Î“Ã‡Ã³ Database: SQLite with DAL optimization
2025-11-12 05:50:38 [[32minfo[39m]    Î“Ã‡Ã³ Engines: 9 enterprise engines loaded
2025-11-12 05:50:38 [[32minfo[39m]    Î“Ã‡Ã³ Integrations: WebSocket, MQTT, Multi-protocol
2025-11-12 05:50:38 [[32minfo[39m]    Î“Ã‡Ã³ Security: Rate limiting, JWT auth, audit logging
2025-11-12 05:50:38 [[32minfo[39m]    Î“Ã‡Ã³ Performance: Caching, streaming, optimization
2025-11-12 05:50:38 [[32minfo[39m] â‰¡Æ’Â¢Ãºâˆ©â••Ã… Setting up application routes...
2025-11-12 05:50:38 [[32minfo[39m] Î“Â£Ã  All routes configured successfully
  console.log
    Î“Â£Ã  Test suite completed successfully - timeout cleared

      at Object.log (tests/jest.setup.js:19:13)

PASS tests/middleware-order.test.js
  Middleware & Security Headers
    Î“ÃªÃœ Health endpoint accessible without auth (13 ms)
    Î“ÃªÃœ Security headers present on login page (13 ms)
    Î“ÃªÃœ API route rejects unauthenticated access with JSON 401 (18 ms)

---------------------|---------|----------|---------|---------|-------------------
File                 | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
---------------------|---------|----------|---------|---------|-------------------
All files            |   98.46 |    85.71 |     100 |   98.43 |                   
 middleware          |   94.11 |    76.92 |     100 |   94.11 |                   
  request-metrics.js |   94.11 |    76.92 |     100 |   94.11 | 48                
 routes/api          |     100 |    93.33 |     100 |     100 |                   
  tracing.js         |     100 |    93.33 |     100 |     100 | 132               
---------------------|---------|----------|---------|---------|-------------------
Jest: "global" coverage threshold for statements (100%) not met: 98.46%
Jest: "global" coverage threshold for branches (100%) not met: 85.71%
Jest: "global" coverage threshold for lines (100%) not met: 98.43%
Test Suites: 2 failed, 6 passed, 8 total
Tests:       24 failed, 137 passed, 161 total
Snapshots:   0 total
Time:        24.419 s, estimated 27 s
Ran all test suites.
